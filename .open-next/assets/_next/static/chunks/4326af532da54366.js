(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,944808,e=>{"use strict";e.s(["default",()=>t]);var r=e.i(843476);let s=[500,1e3,2e3,5e3,1e4,2e4],a={priority:{display:.1,click:1,unit:"ポイント",metrics:["表示","クリック"]},overlay:{display:.1,click:1,unit:"ポイント",metrics:["表示","クリック"]},preroll:{play:2,unit:"ポイント",metrics:["再生"]},"youtube-short":{play:1.5,unit:"ポイント",metrics:["再生"]},"youtube-long":{play:3,unit:"ポイント",metrics:["再生"]}};function t(e){let{adType:t,budgetData:l,setBudgetData:i}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"予算設定"}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("span",{className:"text-3xl font-bold",children:l.value.toLocaleString()}),(0,r.jsx)("span",{className:"text-lg opacity-90",children:"ポイント"})]}),(0,r.jsxs)("p",{className:"text-sm opacity-80 mt-2",children:[a[t].metrics.join("・"),"料金:",a[t].display&&" 表示".concat(a[t].display,"P"),a[t].click&&" クリック".concat(a[t].click,"P"),a[t].play&&" 再生".concat(a[t].play,"P")]})]}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"number",value:l.value,onChange:e=>{let r=Number(e.target.value),s="";(isNaN(r)||r<100||r>1e5)&&(s="100円以上,10万以下の金額を入力してください"),i({value:r,error:s})},className:"\n                          w-full px-4 py-3 text-lg font-semibold border-2 rounded-xl transition-colors\n                          ".concat(l.error?"border-red-500 focus:border-red-600":"border-gray-300 focus:border-blue-500","\n                          focus:outline-none\n                        "),placeholder:"金額を入力"}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"最小: ¥100 - 最大: ¥100,000"}),l.error&&(0,r.jsx)("span",{className:"text-xs text-red-500",children:l.error})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:s.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>{i({value:e,error:""})},className:"px-3 py-2 rounded-lg font-medium text-sm transition-all\n                            ".concat(l.value===e?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.toLocaleString(),"p"]},e))})]})]})}},692596,e=>{"use strict";e.s(["default",()=>x],692596);var r=e.i(843476),s=e.i(271645),a=e.i(618566),t=e.i(161822),l=e.i(700762),i=e.i(273779),n=e.i(944808),d=e.i(710126),c=e.i(95187),o=(0,c.createServerReference)("7f9b08f01a2998b3727bc6c72a1e4929719e415334",c.callServer,void 0,c.findSourceMapURL,"createPriorityAd");function x(e){var c;let{advertiserId:x}=e,[m,u]=(0,s.useState)({value:0,error:""}),[h,p]=(0,s.useState)({value:500,error:""}),[g,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)(""),f=(0,a.useRouter)(),N=(0,d.useUpdateAmount)(),{user:w}=(0,t.default)(),y=async()=>{if(!confirm("この内容で間違いありませんか？"))return;b(!0),j&&v("");let e=!1;if((!m.value||m.value<=0)&&(u(e=>({...e,error:"記事IDを入力してください"})),e=!0),(h.value<100||h.value>1e5)&&(p(e=>({...e,error:"予算は100ポイント以上、100,000ポイント以下で設定してください"})),e=!0),h.value>w.amount&&(p(e=>({...e,error:"予算が保有ポイント（".concat(w.amount.toLocaleString(),"P）を超えています")})),e=!0),e){alert("入力内容に問題があります"),v("入力内容に問題があります"),b(!1);return}try{let{success:e,errMsg:r,statusCode:s,advertisementId:a,updatedAmountNumber:t}=await o({targetId:m.value,budget:h.value});if(401===s){alert(r),f.push("/auth/advertiser");return}if(e){void 0!==t&&N(t),alert("Success."),f.push("/advertiser/".concat(x,"/ad/").concat(a));return}404===s&&r.startsWith("TargetId error.")&&u({...m,error:r});alert(r),v(r),b(!1)}catch(r){let e=r instanceof Error?r.message:"作成に失敗しました。もう一度お試しください。";alert(e),v(e),b(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-pink-50 to-rose-100",children:[g&&(0,r.jsx)(l.default,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent mb-4",children:"動画記事優先表示広告"})}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg px-4 py-2",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"保有ポイント"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-purple-600 flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-sm",children:"💎"}),(null==(c=w.amount)?void 0:c.toLocaleString())||0,"P"]})]})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"記事一覧ページで指定した記事を専用枠で優先表示します。審査不要で即座に配信を開始できます。"})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg p-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["記事ID ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"number",value:m.value||"",onChange:e=>{let r=Number(e.target.value);if(isNaN(r)||r<=0)return void u({value:r,error:"0以上の半角数字で入力して下さい。"});u({value:r,error:""})},placeholder:"記事IDを入力してください",className:"w-full px-4 py-3 border-2 rounded-xl bg-white/80 focus:outline-none transition-all duration-300 ".concat(m.error?"border-red-400 focus:border-red-500":"border-gray-200 focus:border-pink-500"),disabled:g}),(0,r.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m.value>0&&!m.error&&(0,r.jsx)("div",{className:"w-5 h-5 text-green-500",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})})]}),m.error&&(0,r.jsxs)("span",{className:"text-red-600 text-sm mt-2 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.error]}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"movieAppの記事ページURLから記事IDを確認できます"}),(0,r.jsx)("p",{className:"mt-1",children:"例: /single/123 → 記事IDは「123」"})]})]}),(0,r.jsx)(n.default,{adType:"priority",budgetData:h,setBudgetData:p}),j&&(0,r.jsx)("div",{className:"p-4 bg-red-50/70 backdrop-blur-sm border border-red-200 rounded-2xl",children:(0,r.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),j]})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>f.back(),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all duration-300 border border-gray-200",disabled:g,children:"戻る"}),(0,r.jsx)("button",{type:"button",onClick:y,disabled:g||""!==m.error||""!==h.error,className:"group relative overflow-hidden bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-12 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed transform",children:(0,r.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,r.jsx)("span",{children:"作成中..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,r.jsx)("span",{children:"広告を作成"})]})})})]})]}),(0,r.jsx)("div",{className:"lg:sticky lg:top-8",children:(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-pink-500 to-rose-600 p-4",children:[(0,r.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"👁️"}),"プレビュー"]}),(0,r.jsx)("p",{className:"text-pink-100 text-sm mt-1",children:"実際の表示イメージを確認できます"})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"transform scale-90 origin-top",children:(0,r.jsx)(i.default,{})})}),(0,r.jsx)("div",{className:"bg-gray-50/80 p-4 border-t border-gray-200/50",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-pink-500 rounded-full"}),(0,r.jsx)("span",{children:"記事一覧ページの専用枠で優先表示"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-rose-500 rounded-full"}),(0,r.jsx)("span",{children:"審査不要で即座に配信開始"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,r.jsx)("span",{children:"クリック後1時間非表示"})]})]})})]})})]})]})]})}},254724,e=>{"use strict";e.s(["default",()=>p],254724);var r=e.i(843476),s=e.i(271645),a=e.i(618566),t=e.i(710126),l=e.i(161822),i=e.i(700762),n=e.i(810285);e.i(247167);var d=e.i(657688);let c={maxSize:102400,maxSizeGif:4718592,requiredDimensions:{width:400,height:225}},o=async e=>new Promise((r,s)=>{"image/jpeg"===e.type||e.type;let a=new Image,t=URL.createObjectURL(e);console.log("createObjectURL:".concat(t)),a.onload=()=>{let l=a.naturalWidth,i=a.naturalHeight,n="";(l!==c.requiredDimensions.width||i!==c.requiredDimensions.height)&&(n="画像は、width=".concat(c.requiredDimensions.width,", height=").concat(c.requiredDimensions.height," である必要があります。"),URL.revokeObjectURL(t),console.log("revokeObjectURL:".concat(t)),s(Error(n))),r({width:l,height:i,src:a.src,type:"image/jpeg"===e.type?"jpg":"image/png"===e.type?"png":"gif"})},a.onerror=e=>{let r=e instanceof Error?e.message:"Somethin went wrong.";URL.revokeObjectURL(t),console.log("revokeObjectURL:".concat(t)),s(Error(r))},a.src=t}),x=(0,s.memo)(e=>{let{selectedFile:a,setSelectedFile:t}=e,[l,i]=(0,s.useState)("画像を選択して下さい。"),n=(0,s.useRef)(null),[x,m]=(0,s.useState)(null);(0,s.useEffect)(()=>()=>{x&&x.src&&!x.src.startsWith("https://pub-7414a177cb1243efaa1f1d269e3df215.r2.dev")&&(console.log("useEffect > revokeObjectURL:".concat(x.src)),URL.revokeObjectURL(x.src))},[x]);let u=async e=>{let r=e.target.files?e.target.files[0]:null;if(r){if("gif"==("image/jpeg"===r.type?"jpg":"image/png"===r.type?"png":"gif")){if(r.size>c.maxSizeGif){alert("GIFのアップロード可能サイズは 4.5MB までです"),i("GIFのアップロード可能サイズは 4.5MB までです"),n.current&&(n.current.value="");return}}else if(r.size>c.maxSize){alert("JPG,PNGのアップロード可能サイズは 100KB までです"),i("JPG,PNGのアップロード可能サイズは 100KB までです"),n.current&&(n.current.value="");return}try{let e=await o(r);if(e instanceof Error)throw Error(e.message);t(r),m(e),i("")}catch(r){let e=r instanceof Error?r.message:"画像の解析に失敗しました。もう一度、あるいは、別の画像でお試し下さい。";n.current&&(n.current.value=""),i(e),alert(e)}}},h=async()=>{n.current&&(n.current.value=""),t(null),m(null),i("画像を選択して下さい。")};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mb-5 bg-gray-100 shadow-md rounded px-8 pt-1 pb-8 w-full max-w-md",children:[x&&x.src&&(0,r.jsx)("div",{className:"p-3",children:(0,r.jsx)(d.default,{src:x.src,width:Math.floor(.7*x.width),height:Math.floor(.7*x.height),alt:"thumbnail",className:"mx-auto rounded-lg shadow-sm"})}),a?(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)("p",{className:"mb-2",children:(0,r.jsx)("span",{className:"text-red-500 font-bold text-xs italic",children:l})}),(0,r.jsx)("div",{id:"myFormExcutionBt",className:"textAlignCenter",children:(0,r.jsx)("button",{className:"\n                            bg-gray-500 hover:bg-gray-600 text-sm text-white font-bold px-2 py-1 rounded focus:outline-none focus:shadow-outline \n                        ",onClick:h,children:"delete"})})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"relative border-2 border-dashed border-gray-300 rounded-xl p-6 text-center transition-all duration-200 hover:border-gray-400 hover:bg-gray-50 cursor-pointer",onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("border-blue-400","bg-blue-50")},onDragLeave:e=>{e.preventDefault(),e.currentTarget.classList.remove("border-blue-400","bg-blue-50")},onDrop:e=>{var r;e.preventDefault(),e.currentTarget.classList.remove("border-blue-400","bg-blue-50"),(null==(r=e.dataTransfer.files)?void 0:r[0])&&u({target:{files:[e.dataTransfer.files[0]]}})},onClick:()=>{var e;return null==(e=n.current)?void 0:e.click()},children:(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"画像をドラッグ&ドロップ"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"または クリックして選択"}),(0,r.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1 text-left max-w-xs mx-auto",children:[(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-blue-400 rounded-full mt-1.5 flex-shrink-0"}),(0,r.jsx)("span",{children:"形式: JPG、PNG、GIF"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-blue-400 rounded-full mt-1.5 flex-shrink-0"}),(0,r.jsxs)("span",{children:["サイズ: ",c.requiredDimensions.width,"×",c.requiredDimensions.height,"px"]})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-blue-400 rounded-full mt-1.5 flex-shrink-0"}),(0,r.jsx)("span",{children:"容量: JPG/PNG 100KB以下、GIF 4.5MB以下"})]})]}),(0,r.jsx)("input",{placeholder:"thumbnail image",ref:n,type:"file",accept:".jpg, .png, .gif",onChange:u,className:"hidden"}),l&&(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"text-red-500 font-bold text-xs italic",children:l})})]})})})]})})});x.displayName="ImageUploadZone";var m=e.i(944808),u=e.i(95187),h=(0,u.createServerReference)("7fca3c7cd05b20397030379aa7d39e10d10f8301cf",u.callServer,void 0,u.findSourceMapURL,"createOverlayAd");function p(e){var d;let{advertiserId:c}=e,[o,u]=(0,s.useState)({value:"",error:""}),[p,g]=(0,s.useState)({value:500,error:""}),[b,j]=(0,s.useState)(null),[v,f]=(0,s.useState)(!1),[N,w]=(0,s.useState)(""),y=(0,a.useRouter)(),k=(0,t.useUpdateAmount)(),{user:L}=(0,l.default)(),S=async()=>{if(!confirm("この内容で間違いありませんか？"))return;f(!0),N&&w("");let e=!1;if(o.value)try{new URL(o.value),o.value.startsWith("http://")||o.value.startsWith("https://")||(u(e=>({...e,error:"HTTPまたはHTTPSで始まるURLを入力してください"})),e=!0)}catch(r){u(e=>({...e,error:"有効なURL形式で入力してください"})),e=!0}else u(e=>({...e,error:"移転先URLを入力してください"})),e=!0;if(b||(alert("画像を選択してください"),e=!0),(p.value<100||p.value>1e5)&&(g(e=>({...e,error:"予算は100ポイント以上、100,000ポイント以下で設定してください"})),e=!0),p.value>L.amount&&(g(e=>({...e,error:"予算が保有ポイント（".concat(L.amount.toLocaleString(),"P）を超えています")})),e=!0),e){alert("入力内容に問題があります"),w("入力内容に問題があります"),f(!1);return}try{let e=new FormData;e.append("image",b),e.append("destinationUrl",o.value),e.append("budget",p.value.toString());let{success:r,errMsg:s,statusCode:a,advertisementId:t,updatedAmountNumber:l}=await h(e);if(401===a){alert(s),y.push("/auth/advertiser");return}if(r){void 0!==l&&k(l),alert("Success."),y.push("/advertiser/".concat(c,"/ad/").concat(t));return}alert(s),w(s),f(!1)}catch(r){let e=r instanceof Error?r.message:"作成に失敗しました。もう一度お試しください。";alert(e),w(e),f(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-100",children:[v&&(0,r.jsx)(i.default,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"オーバーレイ広告"})}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg px-4 py-2",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"保有ポイント"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-blue-600 flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-sm",children:"💎"}),(null==(d=L.amount)?void 0:d.toLocaleString())||0,"P"]})]})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"動画再生中にプレイヤー上に画像広告を表示します。10秒間の強制表示で確実にユーザーの注意を引きつけます。"})]}),(0,r.jsxs)("div",{className:"grid xl:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg p-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:["広告画像 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(x,{selectedFile:b,setSelectedFile:j})]}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg p-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["移転先URL ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"url",value:o.value,onChange:e=>{u({value:e.target.value.trim(),error:""})},placeholder:"https://example.com",className:"w-full px-4 py-3 border-2 rounded-xl bg-white/80 focus:outline-none transition-all duration-300 ".concat(o.error?"border-red-400 focus:border-red-500":o.value&&!o.error?"border-green-400 focus:border-green-500":"border-gray-200 focus:border-blue-500"),disabled:v}),(0,r.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})})]}),o.error&&(0,r.jsxs)("span",{className:"text-red-600 text-sm mt-2 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.error]}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"広告クリック時にユーザーが移動するページのURLを入力してください"}),(0,r.jsx)("p",{className:"mt-1",children:"例: 商品ページ、サービス紹介ページなど"})]})]}),(0,r.jsx)(m.default,{adType:"overlay",budgetData:p,setBudgetData:g}),N&&(0,r.jsx)("div",{className:"p-4 bg-red-50/70 backdrop-blur-sm border border-red-200 rounded-2xl",children:(0,r.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),N]})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>y.back(),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all duration-300 border border-gray-200",disabled:v,children:"戻る"}),(0,r.jsx)("button",{type:"button",onClick:S,disabled:v||""!==o.error||""!==p.error||!b,className:"group relative overflow-hidden bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-12 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed transform",children:(0,r.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,r.jsx)("span",{children:"作成中..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,r.jsx)("span",{children:"広告を作成"})]})})})]})]}),(0,r.jsxs)("div",{className:"xl:sticky xl:top-8",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 p-4",children:[(0,r.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"👁️"}),"プレビュー"]}),(0,r.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"実際の表示イメージを確認できます"})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"transform scale-90 origin-top",children:(0,r.jsx)(n.default,{})})}),(0,r.jsx)("div",{className:"bg-gray-50/80 p-4 border-t border-gray-200/50",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsx)("span",{children:"動画プレイヤー上にオーバーレイ表示"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-cyan-500 rounded-full"}),(0,r.jsx)("span",{children:"10秒強制表示で確実なリーチ"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,r.jsx)("span",{children:"審査完了後に配信開始"})]})]})})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white/60 backdrop-blur-xl rounded-2xl border border-white/30 p-6 shadow-lg",children:[(0,r.jsxs)("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg",children:"📋"}),"審査について"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-blue-500 mt-0.5",children:"📋"}),(0,r.jsx)("span",{children:"詐欺・違法コンテンツでないか確認"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-green-500 mt-0.5",children:"⏱️"}),(0,r.jsx)("span",{children:"通常1-2営業日で審査完了"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-purple-500 mt-0.5",children:"🔧"}),(0,r.jsx)("span",{children:"結果は通知でお知らせします"})]})]})]})]})]})]})]})}},277746,e=>{"use strict";e.s(["default",()=>h],277746);var r=e.i(843476),s=e.i(271645),a=e.i(618566),t=e.i(710126),l=e.i(161822),i=e.i(700762),n=e.i(390735),d=e.i(944808);let c=[{width:1920,height:1080},{width:1280,height:720},{width:640,height:360},{width:480,height:270}],o=async e=>new Promise((r,s)=>{let a=document.createElement("video"),t=URL.createObjectURL(e);console.log("createObjectURL:".concat(t)),a.onloadedmetadata=()=>{let l=a.videoWidth,i=a.videoHeight,n=Math.round(a.duration),d=c.some(e=>e.width===l&&e.height===i),o="";d?(n<15||n>30)&&(o="15秒以上 & 30秒以下 の動画をアップロードして下さい"):o="*許可されている動画サイズは 1920×1280, 1280×720, 640×360, 480×270 のみです。",o&&(URL.revokeObjectURL(t),console.log("revokeObjectURL:".concat(t)),s(Error(o))),r({width:l,height:i,duration:n,src:a.src,size:e.size})},a.onerror=e=>{let r=e instanceof Error?e.message:"Something went wrong.";URL.revokeObjectURL(t),console.log("revokeObjectURL:".concat(t)),s(Error(r))},a.preload="metadata",a.src=t}),x=(0,s.memo)(e=>{let{selectedFile:t,setSelectedFile:l}=e;(0,a.useRouter)();let i=(0,s.useRef)(null),[n,d]=(0,s.useState)(null),[c,x]=(0,s.useState)("動画を選択して下さい");(0,s.useEffect)(()=>()=>{n&&n.src&&(console.log("useEffect > revokeObjectURL:".concat(n.src)),URL.revokeObjectURL(n.src))},[n]);let m=async e=>{if(!e.target.files)return;let r=e.target.files[0];if(!r)return;let s=r.name.split(".");if("mp4"!==s[s.length-1]){alert("*.mp4 のみアップロード可能です"),x("*.mp4 のみアップロード可能です"),i.current&&(i.current.value="");return}if(r.size>4718592){alert("*アップロード可能サイズは4.5MBまでです"),x("*アップロード可能サイズは4.5MBまでです"),i.current&&(i.current.value="");return}try{let e=await o(r);if(e instanceof Error)throw Error(e.message);l(r),d(e),x("")}catch(r){let e=r instanceof Error?r.message:"動画の解析に失敗しました。もう一度、あるいは、別の動画でお試し下さい。";i.current&&(i.current.value=""),x(e),alert(e)}},u=async()=>{(null==i?void 0:i.current)&&(i.current.value=""),l(null),d(null),x("動画を選択して下さい。")};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mb-5 bg-gray-100 shadow-md rounded px-8 pt-1 pb-8 w-full max-w-md",children:[n&&n.src&&(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("p",{children:"video"}),(0,r.jsx)("video",{src:n.src,width:480,height:270,className:"mx-auto rounded-lg shadow-sm",controls:!0})]}),t?(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)("p",{className:"mb-2",children:(0,r.jsx)("span",{className:"text-red-500 font-bold text-xs italic",children:c})}),(0,r.jsx)("div",{id:"myFormExcutionBt",className:"textAlignCenter",children:(0,r.jsx)("button",{className:"\n                        bg-gray-500 hover:bg-gray-600 text-sm text-white font-bold px-2 py-1 rounded focus:outline-none focus:shadow-outline \n                    ",onClick:u,children:"delete"})})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"relative border-2 border-dashed border-gray-300 rounded-xl p-6 text-center transition-all duration-200 hover:border-gray-400 hover:bg-gray-50 cursor-pointer",onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("border-purple-400","bg-purple-50")},onDragLeave:e=>{e.preventDefault(),e.currentTarget.classList.remove("border-purple-400","bg-purple-50")},onDrop:e=>{var r;e.preventDefault(),e.currentTarget.classList.remove("border-purple-400","bg-purple-50"),(null==(r=e.dataTransfer.files)?void 0:r[0])&&m({target:{files:[e.dataTransfer.files[0]]}})},onClick:()=>{var e;return null==(e=i.current)?void 0:e.click()},children:(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"動画をドラッグ&ドロップ"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"または クリックして選択"}),(0,r.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1 text-left max-w-xs mx-auto",children:[(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-purple-400 rounded-full mt-1.5 flex-shrink-0"}),(0,r.jsx)("span",{children:"形式: MP4のみ"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-purple-400 rounded-full mt-1.5 flex-shrink-0"}),(0,r.jsx)("span",{children:"時間: 15秒〜30秒"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-purple-400 rounded-full mt-1.5 flex-shrink-0"}),(0,r.jsx)("span",{children:"解像度: 1920×1080, 1280×720他"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-1 bg-purple-400 rounded-full mt-1.5 flex-shrink-0"}),(0,r.jsx)("span",{children:"容量: 最大4.5MB"})]})]}),(0,r.jsx)("input",{ref:i,type:"file",accept:".mp4",onChange:m,className:"hidden"}),c&&(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"text-red-500 font-bold text-xs italic",children:c})})]})})})]})})});x.displayName="MovieUploadZone";var m=e.i(95187),u=(0,m.createServerReference)("7fdff60d8a9af816a07e539cd1677f72b111573106",m.callServer,void 0,m.findSourceMapURL,"createPrerollAd");function h(e){var c;let{advertiserId:o}=e,[m,h]=(0,s.useState)({value:"",error:""}),[p,g]=(0,s.useState)({value:2e3,error:""}),[b,j]=(0,s.useState)(null),[v,f]=(0,s.useState)(!1),[N,w]=(0,s.useState)(""),y=(0,a.useRouter)(),k=(0,t.useUpdateAmount)(),{user:L}=(0,l.default)(),S=async()=>{if(!confirm("この内容で間違いありませんか？"))return;f(!0),N&&w("");let e=!1;if(m.value)try{new URL(m.value),m.value.startsWith("http://")||m.value.startsWith("https://")||(h(e=>({...e,error:"HTTPまたはHTTPSで始まるURLを入力してください"})),e=!0)}catch(r){h(e=>({...e,error:"有効なURL形式で入力してください"})),e=!0}else h(e=>({...e,error:"移転先URLを入力してください"})),e=!0;if(b||(alert("動画を選択してください"),e=!0),(p.value<100||p.value>1e5)&&(g(e=>({...e,error:"予算は100ポイント以上、100,000ポイント以下で設定してください"})),e=!0),p.value>L.amount&&(g(e=>({...e,error:"予算が保有ポイント（".concat(L.amount.toLocaleString(),"P）を超えています")})),e=!0),e){alert("入力内容に問題があります"),w("入力内容に問題があります"),f(!1);return}try{let e=new FormData;e.append("video",b),e.append("destinationUrl",m.value),e.append("budget",p.value.toString());let{success:r,errMsg:s,statusCode:a,advertisementId:t,updatedAmountNumber:l}=await u(e);if(401===a){alert(s),y.push("/auth/advertiser");return}if(r){void 0!==l&&k(l),alert("Success."),y.push("/advertiser/".concat(o,"/ad/").concat(t));return}alert(s),w(s),f(!1)}catch(r){let e=r instanceof Error?r.message:"作成に失敗しました。もう一度お試しください。";alert(e),w(e),f(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-purple-50 to-violet-100",children:[v&&(0,r.jsx)(i.default,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-600 to-violet-600 bg-clip-text text-transparent",children:"プレロール広告"})}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg px-4 py-2",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"保有ポイント"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-purple-600 flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-sm",children:"💎"}),(null==(c=L.amount)?void 0:c.toLocaleString())||0,"P"]})]})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"動画再生前に15秒間の動画広告を表示します。冒頭10秒は必須視聴で、高いエンゲージメント率を実現できます。"})]}),(0,r.jsxs)("div",{className:"grid xl:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg p-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:["広告動画 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(x,{selectedFile:b,setSelectedFile:j}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-purple-50/70 backdrop-blur-sm rounded-2xl border border-purple-200/50",children:[(0,r.jsxs)("h4",{className:"font-semibold text-purple-900 mb-2 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg",children:"🎬"}),"動画要件"]}),(0,r.jsxs)("div",{className:"text-sm text-purple-700 space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),(0,r.jsx)("span",{children:"時間: 15秒以上 & 30秒以下"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),(0,r.jsx)("span",{children:"容量: 最大4.5MB"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),(0,r.jsx)("span",{children:"冒頭10秒は必須視聴、その後スキップ可能"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),(0,r.jsx)("span",{children:"高品質な内容で訴求効果を最大化"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg p-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["移転先URL ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"url",value:m.value,onChange:e=>{h({value:e.target.value.trim(),error:""})},placeholder:"https://example.com",className:"w-full px-4 py-3 border-2 rounded-xl bg-white/80 focus:outline-none transition-all duration-300 ".concat(m.error?"border-red-400 focus:border-red-500":m.value&&!m.error?"border-green-400 focus:border-green-500":"border-gray-200 focus:border-purple-500"),disabled:v}),(0,r.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})})]}),m.error&&(0,r.jsxs)("span",{className:"text-red-600 text-sm mt-2 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.error]}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"動画視聴後にユーザーが移動するページのURLを入力してください"}),(0,r.jsx)("p",{className:"mt-1",children:"例: ランディングページ、商品ページ、キャンペーンサイトなど"})]})]}),(0,r.jsx)(d.default,{adType:"preroll",budgetData:p,setBudgetData:g}),N&&(0,r.jsx)("div",{className:"p-4 bg-red-50/70 backdrop-blur-sm border border-red-200 rounded-2xl",children:(0,r.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),N]})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>y.back(),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all duration-300 border border-gray-200",disabled:v,children:"戻る"}),(0,r.jsx)("button",{type:"button",onClick:S,disabled:v||""!==m.error||""!==p.error||!b,className:"group relative overflow-hidden bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-12 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed transform",children:(0,r.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,r.jsx)("span",{children:"作成中..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,r.jsx)("span",{children:"広告を作成"})]})})})]})]}),(0,r.jsxs)("div",{className:"xl:sticky xl:top-8",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-violet-600 p-4",children:[(0,r.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"👁️"}),"プレビュー"]}),(0,r.jsx)("p",{className:"text-purple-100 text-sm mt-1",children:"実際の表示イメージを確認できます"})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"transform scale-90 origin-top",children:(0,r.jsx)(n.default,{})})}),(0,r.jsx)("div",{className:"bg-gray-50/80 p-4 border-t border-gray-200/50",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,r.jsx)("span",{children:"動画再生前に15秒間表示"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-violet-500 rounded-full"}),(0,r.jsx)("span",{children:"冒頭10秒は必須視聴"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),(0,r.jsx)("span",{children:"高いエンゲージメント率"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,r.jsx)("span",{children:"審査完了後に配信開始"})]})]})})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white/60 backdrop-blur-xl rounded-2xl border border-white/30 p-6 shadow-lg",children:[(0,r.jsxs)("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg",children:"📈"}),"広告効果"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-purple-500 mt-0.5",children:"🎯"}),(0,r.jsx)("span",{children:"強制視聴で確実なリーチ"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-violet-500 mt-0.5",children:"💡"}),(0,r.jsx)("span",{children:"動画で訴求力を最大化"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-indigo-500 mt-0.5",children:"⚡"}),(0,r.jsx)("span",{children:"高いクリック率とコンバージョン"})]})]})]})]})]})]})]})}},151314,e=>{"use strict";e.s(["default",()=>h],151314);var r=e.i(843476),s=e.i(271645),a=e.i(618566),t=e.i(710126),l=e.i(161822),i=e.i(781726),n=e.i(57440),d=e.i(944808),c=e.i(179376),o=e.i(95187),x=(0,o.createServerReference)("7fda5b0ca9d2478fe8824bb8077e858fa86672c375",o.callServer,void 0,o.findSourceMapURL,"createYouTubeAd"),m=e.i(700762);let u={"youtube-short":{title:"YouTube Short広告",subtitle:"YouTubeショート動画の再生数向上",description:"EchiEchiTube上でYouTube動画を再生し、再生数を増加させます。15秒後にスキップ可能で、30秒で自動終了。",price:1.5,skipTime:15,maxTime:30,gradient:"from-red-500 to-pink-600",icon:"🔹",features:["15秒後スキップ可能","30秒で自動終了","YouTube再生数向上","ショート動画に最適"]},"youtube-long":{title:"YouTube Long広告",subtitle:"YouTube動画の高品質な再生数向上",description:"EchiEchiTube上でYouTube動画を再生し、より多くの再生数を獲得します。30秒後にスキップ可能で、60秒で自動終了。",price:3,skipTime:30,maxTime:60,gradient:"from-orange-500 to-red-600",icon:"🎥",features:["30秒後スキップ可能","60秒で自動終了","高い視聴継続率","より多くの再生数獲得"]}};function h(e){var o;let{advertiserId:h,youtubeType:p}=e,[g,b]=(0,s.useState)({value:"",error:""}),[j,v]=(0,s.useState)({value:500,error:""}),[f,N]=(0,s.useState)(!1),[w,y]=(0,s.useState)(""),k=(0,a.useRouter)(),L=(0,t.useUpdateAmount)(),{user:S}=(0,l.default)(),R=u[p],T=async()=>{if(!confirm("この内容で間違いありませんか？"))return;N(!0),w&&y("");let e=!1;try{let r=await (0,c.validateSimpleYouTubeId)(g.value);(!r.exists||r.error)&&(b({...g,error:r.error||"YouTube動画が見つかりません"}),e=!0)}catch(r){b({value:"",error:"YouTube動画の確認に失敗しました。もう一度お試し下さい🙇‍♀️"+(r instanceof Error?"\n".concat(r.message):"")}),e=!0}if((j.value<100||j.value>1e5)&&(v(e=>({...e,error:"予算は100ポイント以上、100,000ポイント以下で設定してください"})),e=!0),j.value>S.amount&&(v(e=>({...e,error:"予算が保有ポイント（".concat(S.amount.toLocaleString(),"P）を超えています")})),e=!0),e){alert("入力内容に問題があります"),y("入力内容に問題があります"),N(!1);return}try{let{success:e,errMsg:r,statusCode:s,advertisementId:a,updatedAmountNumber:t}=await x({youtubeId:g.value,youtubeType:p,budget:j.value});if(401===s){alert(r),k.push("/auth/advertiser");return}if(e){void 0!==t&&L(t),alert("Success."),k.push("/advertiser/".concat(h,"/ad/").concat(a));return}alert(r),y(r),N(!1)}catch(r){let e=r instanceof Error?r.message:"作成に失敗しました。もう一度お試しください。";alert(e),y(e),N(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-orange-50 to-red-100",children:[f&&(0,r.jsx)(m.default,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r ".concat(R.gradient," bg-clip-text text-transparent mb-4"),children:R.title})}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl border border-white/30 shadow-lg px-4 py-2",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"保有ポイント"}),(0,r.jsxs)("div",{className:"text-lg font-bold text-purple-600 flex items-center gap-1",children:[(0,r.jsx)("span",{className:"text-sm",children:"💎"}),(null==(o=S.amount)?void 0:o.toLocaleString())||0,"P"]})]})]}),(0,r.jsx)("p",{className:"text-gray-600",children:R.description})]}),(0,r.jsxs)("div",{className:"grid xl:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg p-6",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["YouTube動画ID ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",value:g.value,onChange:e=>{b({value:e.target.value.trim(),error:""})},placeholder:"dQw4w9WgXcQ",className:"w-full px-4 py-3 border-2 rounded-xl bg-white/80 focus:outline-none transition-all duration-300 ".concat(g.error?"border-red-400 focus:border-red-500":g.value&&!g.error?"border-green-400 focus:border-green-500":"border-gray-200 focus:border-red-500"),disabled:f}),(0,r.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:[g.value&&!g.error&&(0,r.jsx)("div",{className:"w-5 h-5 text-green-500",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),g.error&&(0,r.jsx)("div",{className:"w-5 h-5 text-red-500",children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]}),g.error&&(0,r.jsxs)("span",{className:"text-red-600 text-sm mt-2 flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.error]}),(0,r.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"YouTube動画URLから動画IDを確認できます"}),(0,r.jsxs)("p",{className:"mt-1",children:["例: https://www.youtube.com/watch?v=",(0,r.jsx)("strong",{children:"dQw4w9WgXcQ"})," → 動画IDは「dQw4w9WgXcQ」"]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r ".concat(R.gradient," rounded-3xl p-6 text-white shadow-lg"),children:[(0,r.jsxs)("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:R.icon}),R.subtitle]}),(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[(0,r.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"料金"}),(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[R.price,"円 / 再生"]})]}),(0,r.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[(0,r.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"視聴時間"}),(0,r.jsxs)("div",{className:"text-lg font-semibold",children:[R.skipTime,"秒後スキップ可 / ",R.maxTime,"秒で終了"]})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"text-sm opacity-90 mb-2",children:"特徴"}),(0,r.jsx)("div",{className:"grid sm:grid-cols-2 gap-2",children:R.features.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-white rounded-full opacity-80"}),(0,r.jsx)("span",{children:e})]},s))})]})]}),(0,r.jsx)(d.default,{adType:p,budgetData:j,setBudgetData:v}),w&&(0,r.jsx)("div",{className:"p-4 bg-red-50/70 backdrop-blur-sm border border-red-200 rounded-2xl",children:(0,r.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),w]})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>k.back(),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all duration-300 border border-gray-200",disabled:f,children:"戻る"}),(0,r.jsx)("button",{type:"button",onClick:T,disabled:f||""!==g.error||""!==j.error||!g.value,className:"group relative overflow-hidden bg-gradient-to-r ".concat(R.gradient," hover:shadow-lg disabled:from-gray-400 disabled:to-gray-500 text-white px-12 py-3 rounded-xl font-medium transition-all duration-300 hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed transform"),children:(0,r.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,r.jsx)("span",{children:"作成中..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,r.jsx)("span",{children:"広告を作成"})]})})})]})]}),(0,r.jsxs)("div",{className:"xl:sticky xl:top-8",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/30 shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r ".concat(R.gradient," p-4"),children:[(0,r.jsxs)("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"👁️"}),"プレビュー"]}),(0,r.jsx)("p",{className:"text-white/80 text-sm mt-1",children:"実際の表示イメージを確認できます"})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"transform scale-90 origin-top",children:"youtube-short"===p?(0,r.jsx)(i.default,{}):(0,r.jsx)(n.default,{})})}),(0,r.jsx)("div",{className:"bg-gray-50/80 p-4 border-t border-gray-200/50",children:(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-".concat("youtube-short"===p?"red":"orange","-500 rounded-full")}),(0,r.jsx)("span",{children:"YouTube動画を再生して再生数向上"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-".concat("youtube-short"===p?"pink":"red","-500 rounded-full")}),(0,r.jsxs)("span",{children:[R.skipTime,"秒後スキップ可能"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsx)("span",{children:"視聴後1時間非表示"})]})]})})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white/60 backdrop-blur-xl rounded-2xl border border-white/30 p-6 shadow-lg",children:[(0,r.jsxs)("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-lg",children:"📈"}),"YouTube成長効果"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-red-500 mt-0.5",children:"📊"}),(0,r.jsx)("span",{children:"再生数増加でランキング向上"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-orange-500 mt-0.5",children:"🔍"}),(0,r.jsx)("span",{children:"YouTube検索での露出拡大"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-purple-500 mt-0.5",children:"👥"}),(0,r.jsx)("span",{children:"チャンネル登録者数増加"})]})]})]})]})]})]})]})}}]);