(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(s,{callServer:function(){return r.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let r=e.r(132120),a=e.r(92245),l=e.r(235326)},179376,e=>{"use strict";e.s(["dangerousCharToSpace",()=>t,"entityToDangerousChar",()=>a,"validateSimpleYouTubeId",()=>d,"validationForAuthenticationPassword",()=>i,"validationForBirthDate",()=>u,"validationForEmail",()=>n,"validationForPassword",()=>o,"validationForPhoneNumber",()=>c,"validationForWord",()=>l]);let t=e=>e?e.replace(/[<>&|"'`;　=%?!\\]/g,()=>" "):"",s={"&lt;":"<","&gt;":">","&#x2f;":"/","&amp;":"&","&#x7c;":"|","&quot;":'"',"&#x27;":"'","&#x60;":"`","&#059;":";","；":";","&#x3d;":"=","&#x25;":"%","&#x3f;":"?","&#x21;":"!","&#x23;":"#","&#x40;":"@","&#x2a;":"*","&#092;":"\\","&#x2b;":"+","&#x2d;":"-"},r={"&lt;":"＜","&gt;":"＞","&#x2f;":"／","&amp;":"＆","&#x7c;":"｜","&quot;":"”","&#x27;":"’","&#x60;":"‘","&#059;":"；","&#x3d;":"＝","&#x25;":"％","&#x3f;":"？","&#x21;":"！","&#x23;":"＃","&#x40;":"＠","&#x2a;":"＊","&#092;":"＼","&#x2b;":"＋","&#x2d;":"ー"},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"half";if(!e)return"";let a="half"===t?s:r;return e.replace(/(&lt;|&gt;|&#x2f;|&amp;|&#x7c;|&quot;|&#x27;|&#x60;|&#059;|&#x3d;|&#x25;|&#x3f;|&#x21;|&#x23;|&#x40;|&#x2a;|&#092;|&#x2b;|&#x2d;)/g,e=>a[e])},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return 0===e.length||e.length>t?{result:!1,message:"1～".concat(t,"字以内の文字列を入力して下さい")}:/[<>/&|"'`;=%?!#@*\\\+\-]/.test(e)?{result:!1,message:"半角の「<>/&|\"'`;=%?!#@*\\+-」は使用不可"}:{result:!0,message:"success"}},n=e=>0===e.length||e.length>50?{result:!1,message:"1～50字以内のメールアドレを入力して下さい"}:/^[a-zA-Z0-9]+[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?{result:!0,message:"success"}:{result:!1,message:"有効なメールアドレスの形式でありません"},o=e=>e.length<5||e.length>50?{result:!1,message:"5～50字以内の半角の英数字を入力して下さい"}:/^[A-Za-z0-9]+$/.test(e)?{result:!0,message:"success"}:{result:!1,message:"半角の英数字で入力して下さい"},i=e=>6!==e.length?{result:!1,message:"6桁の半角数字を入力して下さい"}:/^[0-9]+$/.test(e)?{result:!0,message:"success"}:{result:!1,message:"半角数字で入力して下さい"},c=e=>{if(11!==e.length)return{result:!1,message:"11桁の半角数字を入力して下さい"};if(!/^0[7-9]0\d{8}$/.test(e))return{result:!1,message:"070,080,090のいずれかで始まる11桁の半角数字を入力して下さい"};let t=e.slice(3,7),s=e.slice(7,11),r=/(\d)\1{3}/;if(r.test(t)&&r.test(s))return{result:!1,message:"同じ数字が4回連続している部分があります"};let a=e.slice(3,11);return"01234567"===a||"12345678"===a||"23456789"===a||"76543210"===a||"87654321"===a||"98765432"===a?{result:!1,message:"8桁の連番が含まれています"}:{result:!0,message:"success"}},u=e=>{if(!e)return{result:!1,message:"生年月日を入力して下さい"};let t=new Date(e),s=new Date;if(isNaN(t.getTime()))return{result:!1,message:"有効な日付を入力して下さい"};let r=s.getFullYear()-t.getFullYear(),a=s.getMonth()-t.getMonth(),l=s.getDate()-t.getDate(),n=r;return((a<0||0===a&&l<0)&&n--,n<18)?{result:!1,message:"18歳以上である必要があります"}:t>s?{result:!1,message:"未来の日付は入力できません"}:{result:!0,message:"success"}},d=async e=>{let t=e.trim();if(!t)return{exists:!1,error:"YouTube動画IDが空です"};if(!/^[a-zA-Z0-9_-]{11}$/.test(t))return{exists:!1,error:"YouTube動画IDの形式が正しくありません"};try{let e=await fetch("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=".concat(t,"&format=json"),{method:"GET",signal:AbortSignal.timeout(5e3)});if(console.log("YouTube validation response status: ".concat(e.status," for videoId: ").concat(t)),200===e.status){let t=await e.json();if(t&&t.title&&t.html)return{exists:!0};return{exists:!1,error:"YouTube動画の情報を取得できませんでした"}}if(404===e.status)return{exists:!1,error:"YouTube動画が見つかりません"};if(401===e.status||403===e.status)return{exists:!1,error:"YouTube動画にアクセスできません（非公開またはプライベート動画）"};else return{exists:!1,error:"YouTube動画の確認でエラーが発生しました（ステータス: ".concat(e.status,"）")}}catch(e){if(console.error("YouTube validation error:",e),e instanceof Error){if("AbortError"===e.name)return{exists:!1,error:"YouTube動画の確認がタイムアウトしました"};else if(e.message.includes("fetch"))return{exists:!1,error:"ネットワークエラーが発生しました"}}return{exists:!1,error:"YouTube動画の確認に失敗しました"}}}},33550,e=>{"use strict";e.s(["default",()=>r],33550);var t=e.i(271645),s={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};let r=(e,r,a,l)=>{let n=(0,t.forwardRef)((a,n)=>{let{color:o="currentColor",size:i=24,stroke:c=2,title:u,className:d,children:x,...m}=a;return(0,t.createElement)("svg",{ref:n,...s[e],width:i,height:i,className:["tabler-icon","tabler-icon-".concat(r),d].join(" "),..."filled"===e?{fill:o}:{strokeWidth:c,stroke:o},...m},[u&&(0,t.createElement)("title",{key:"svg-title"},u),...l.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(x)?x:[x]])});return n.displayName="".concat(a),n}},146874,e=>{"use strict";e.s(["IconAlertTriangle",()=>t],146874);let t=(0,e.i(33550).default)("outline","alert-triangle","AlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},620025,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(843476),s=e.i(146874);function r(e){let{errMessage:r,reloadBtFlag:a=!0}=e;return(0,t.jsxs)("div",{className:"border-red-500 border-2 rounded-md p-2 bg-red-100 w-full max-w-lg mx-auto my-2",children:[(0,t.jsxs)("div",{className:"flex flex-col text-red-600",children:[(0,t.jsx)(s.IconAlertTriangle,{className:"mr-2"}),(0,t.jsx)("span",{className:"break-all whitespace-pre-wrap",children:r})]}),a&&(0,t.jsx)("button",{onClick:()=>location.reload(),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors duration-200",children:"ページをリロード"})]})}},350096,e=>{"use strict";e.s(["default",()=>c],350096);var t=e.i(843476),s=e.i(271645),r=e.i(620025),a=e.i(95187),l=(0,a.createServerReference)("7f3cf419ca948d5c81643d82138ee6f53477733601",a.callServer,void 0,a.findSourceMapURL,"resetPassRequest"),n=(0,a.createServerReference)("7f9323e44328f09cf8976da907c58c42101017d087",a.callServer,void 0,a.findSourceMapURL,"resetPassConfirm"),o=e.i(179376);let i=e=>{let{email:a}=e,[l,i,c]=(0,s.useActionState)(n,{errMsg:""}),[u,d]=(0,s.useState)({authenticationPassword:["",""],password:["",""]}),x=e=>{let t=e.target.name,s=e.target.value;d({...u,[t]:[s,""]})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center w-full max-w-md",children:[(0,t.jsxs)("p",{className:"text-red-600 text-center",children:["✉",a,(0,t.jsx)("br",{}),"認証パスワードを送信しました"]}),l.errMsg&&(0,t.jsx)(r.default,{errMessage:l.errMsg,reloadBtFlag:!0}),(0,t.jsxs)("form",{action:e=>{let{authenticationPassword:t,password:s}=u,r=(0,o.validationForAuthenticationPassword)(t[0]);if(r.result||(t[1]=r.message),(r=(0,o.validationForPassword)(s[0])).result||(s[1]=r.message),t[1]||s[1])return d({authenticationPassword:t,password:s}),alert("入力内容に問題があります");i(e)},className:"mt-3 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-md",children:[(0,t.jsx)("input",{name:"email",type:"hidden",required:!0,defaultValue:a}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-md font-bold",children:["6桁認証番号",(0,t.jsx)("em",{children:"*"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"6桁の半角数字を入力して下さい"}),(0,t.jsx)("input",{name:"authenticationPassword",type:"text",onChange:x,defaultValue:u.authenticationPassword[0],required:!0,placeholder:"認証パスワード",className:"\n                                ".concat(u.authenticationPassword[1]&&"border-red-500"," \n                                bg-gray-100 shadow appearance-none break-all border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\n                            ")}),u.authenticationPassword[1]&&(0,t.jsx)("span",{className:"text-red-500 text-xs italic",children:u.authenticationPassword[1]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-md font-bold",children:["新規パスワード",(0,t.jsx)("em",{children:"*"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 block",children:"5文字以上の半角の英数字を入力して下さい"}),(0,t.jsx)("input",{name:"password",type:"password",defaultValue:u.password[0],onChange:x,required:!0,placeholder:"新規パスワード",className:"\n                                ".concat(u.password[1]&&"border-red-500"," \n                                bg-gray-100 shadow appearance-none break-all border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\n                            ")}),u.password[1]&&(0,t.jsx)("span",{className:"text-red-500 text-xs italic",children:u.password[1]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("button",{className:"\n                            bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline \n                            ".concat(c&&"cursor-not-allowed","\n                            "),disabled:c,type:"submit",children:c?"・・Loading・・":"Submit"})})]})]})})})};function c(){let[e,a,n]=(0,s.useActionState)(l,{success:!1,errMsg:""}),[c,u]=(0,s.useState)({email:["",""]});return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"flex items-center justify-center mt-5",children:(0,t.jsx)("div",{className:"flex flex-col items-center justify-center w-full max-w-md",children:e.success?(0,t.jsx)(i,{email:c.email[0]}):(0,t.jsxs)(t.Fragment,{children:[e.errMsg&&(0,t.jsx)(r.default,{errMessage:e.errMsg,reloadBtFlag:!1}),(0,t.jsxs)("form",{action:e=>{let{email:t}=c,s=(0,o.validationForEmail)(t[0]);if(!s.result)return t[1]=s.message,u({email:t}),alert("入力内容に問題があります");a(e)},className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-md font-bold",children:["メールアドレス",(0,t.jsx)("em",{children:"*"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"メールアドレス"}),(0,t.jsx)("input",{name:"email",type:"text",defaultValue:c.email[0],onChange:e=>{let t=e.target.name,s=e.target.value;u({...c,[t]:[s,""]})},required:!0,placeholder:"メールアドレス",className:"\n                                        ".concat(c.email[1]&&"border-red-500"," \n                                        bg-gray-100 shadow appearance-none break-all border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\n                                    ")}),c.email[1]&&(0,t.jsx)("span",{className:"text-red-500 text-xs italic",children:c.email[1]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("button",{className:"\n                                    bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline \n                                    ".concat(n&&"cursor-not-allowed","\n                                    "),disabled:n,type:"submit",children:n?"・・Loading・・":"reset password"})})]})]})})})})}}]);