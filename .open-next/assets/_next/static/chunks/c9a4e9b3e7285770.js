(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,724169,e=>{"use strict";e.s(["default",()=>j],724169);var s=e.i(843476),r=e.i(271645),t=e.i(618566),a=e.i(179376),l=e.i(700762),n=e.i(95187),o=(0,n.createServerReference)("7fe7fc0c3733cd58ed9253dbf9b54008a3aa65b07a",n.callServer,void 0,n.findSourceMapURL,"receive2FACode");let d=e=>{let{userType:n,type:d,value:i,onSuccess:c,onCancel:x}=e,u=(0,t.useRouter)(),[h,m]=(0,r.useState)(!1),[p,b]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[f,j]=(0,r.useState)(180);(0,r.useEffect)(()=>{if(f<=0)return;let e=setInterval(()=>{j(e=>e<=1?(b("認証時間が終了しました。もう一度お試しください。"),0):e-1)},1e3);return()=>clearInterval(e)},[f]);let y=async()=>{if(h)return;m(!0),p&&b("");let e=(0,a.validationForAuthenticationPassword)(g);if(!e.result){b(e.message),m(!1);return}try{let e=await o({userType:n,type:d,value:i,authenticationPassword:g});if(e.success)c();else{if(401===e.statusCode){alert("認証が失効しました。再度ログインしてください。"),u.push("/auth/".concat(n));return}b(e.errMsg)}}catch(e){b(e instanceof Error?e.message:"認証に失敗しました。もう一度お試しください。")}finally{m(!1)}},N="email"===d?i:"****-****-".concat(i.slice(-4));return(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)(l.default,{}),(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl border border-white/50 w-full max-w-md mx-auto relative overflow-hidden my-auto",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/80 via-teal-50/60 to-cyan-50/40"}),(0,s.jsx)("div",{className:"relative z-10 p-6 border-b border-emerald-100/50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center",children:"email"===d?(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"2段階認証"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"認証コードを入力してください"})]})]}),(0,s.jsx)("button",{onClick:x,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("div",{className:"relative z-10 p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-2",children:"認証コードを送信しました"}),(0,s.jsx)("p",{className:"font-bold text-gray-900 bg-gray-50 rounded-lg p-3",children:N})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full ".concat(f>60?"bg-green-100 text-green-700":f>30?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{className:"font-bold",children:(e=>{let s=Math.floor(e/60);return"".concat(s,":").concat((e%60).toString().padStart(2,"0"))})(f)})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"認証コードの有効期限"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"認証コード（6桁）"}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>{v(e.target.value.replace(/\D/g,"").slice(0,6)),p&&b("")},placeholder:"123456",maxLength:6,className:"w-full p-4 text-center text-2xl font-bold tracking-widest bg-white border-2 ".concat(p?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"," focus:ring-4 focus:ring-emerald-500/20 rounded-xl transition-all duration-300 focus:outline-none"),disabled:h||f<=0}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 text-right",children:[g.length,"/6文字"]})]}),p&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:x,className:"flex-1 px-4 py-3 bg-white hover:bg-gray-50 border-2 border-gray-300 hover:border-gray-400 text-gray-700 rounded-xl font-bold transition-all duration-300",children:"キャンセル"}),(0,s.jsxs)("button",{type:"button",onClick:y,disabled:h||6!==g.length||f<=0,className:"flex-1 group relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-4 py-3 rounded-xl font-bold shadow-lg hover:shadow-emerald-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,s.jsx)("div",{className:"relative flex items-center justify-center gap-2",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"認証中..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{children:"認証"})]})})]})]})]}),(0,s.jsx)("div",{className:"absolute top-4 right-4 w-12 h-12 bg-gradient-to-br from-emerald-400/20 to-teal-500/20 rounded-full blur-lg"}),(0,s.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 bg-gradient-to-br from-teal-400/20 to-cyan-500/20 rounded-full blur-lg"})]})})]})};var i=(0,n.createServerReference)("7fd83605894b95fb90a5c28b8cca3b086fcdb1c676",n.callServer,void 0,n.findSourceMapURL,"updateBasicProfile");let c=e=>{let{userType:l,userId:n,data:o,setCompletionStatus:c}=e,x=(0,t.useRouter)(),[u,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[b,g]=(0,r.useState)({name:[o.name,""],email:[o.email,""],birthDate:[o.birthDate.toISOString().split("T")[0],""]}),[v,f]=(0,r.useState)(!1),[j,y]=(0,r.useState)(o.email),N=async()=>{if(u||!confirm("この内容で保存しますか？"))return;h(!0),m&&p("");let{name:e,email:s,birthDate:r}=b,t=!1,o=new Date(r[0]),d=(0,a.validationForWord)(e[0],50);d.result||(e[1]=d.message,t=!0),(d=(0,a.validationForEmail)(s[0])).result||(s[1]=d.message,t=!0);let v=new Date;if(isNaN(o.getTime()))r[1]="有効な日付を入力してください",t=!0;else{let e=v.getFullYear()-o.getFullYear(),s=v.getMonth()-o.getMonth(),a=v.getDate()-o.getDate(),l=e;(s<0||0===s&&a<0)&&l--,l<18&&(r[1]="18歳以上である必要があります",t=!0),o>v&&(r[1]="未来の日付は入力できません",t=!0)}if(t){g({name:e,email:s,birthDate:r}),p("入力内容に問題があります"),h(!1);return}try{let t=await i({userId:n,userType:l,name:e[0].trim(),email:s[0].trim(),birthDate:r[0]});if(t.success)t.needsAuth?(f(!0),alert("基本情報（氏名・生年月日）を保存しました。\nメールアドレス変更には認証が必要です。")):alert("基本情報を保存しました"),c(e=>({...e,basic:!0}));else{if(401===t.statusCode){alert("認証が失効しました。再度ログインしてください。"),x.push("/auth/".concat(l));return}p(t.errMsg)}}catch(s){let e=s instanceof Error?s.message:"保存に失敗しました。もう一度お試しください。";alert(e),p(e)}finally{h(!1)}},w=e=>{let s=e.target.name,r=e.target.value;g({...b,[s]:[r,""]}),m&&p("")};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"基本的なアカウント情報です。この情報は必須項目となります。"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["氏名 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"name",value:b.name[0],onChange:w,placeholder:"お名前を入力してください",className:"w-full p-3 bg-white border-2 ".concat(b.name[1]?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"," focus:ring-4 focus:ring-emerald-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none"),disabled:u}),b.name[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.name[1]]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[b.name[0].length,"/50文字"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["メールアドレス ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"email",name:"email",value:b.email[0],onChange:w,placeholder:"example@email.com",className:"w-full p-3 bg-white border-2 ".concat(b.email[1]?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"," focus:ring-4 focus:ring-emerald-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none"),disabled:u}),b.email[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.email[1]]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["生年月日 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"date",name:"birthDate",value:b.birthDate[0],onChange:w,max:new Date().toISOString().split("T")[0],className:"w-full p-3 bg-white border-2 ".concat(b.birthDate[1]?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"," focus:ring-4 focus:ring-emerald-500/20 rounded-xl text-gray-800 transition-all duration-300 focus:outline-none"),disabled:u}),b.birthDate[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.birthDate[1]]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"18歳以上である必要があります"})]}),m&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m]})}),(0,s.jsxs)("button",{type:"button",onClick:N,disabled:u,className:"w-full group relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-emerald-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,s.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"保存中..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsx)("span",{children:"基本情報を保存"})]})})]})]}),v&&(0,s.jsx)(d,{userType:l,type:"email",value:b.email[0],onSuccess:()=>{f(!1),y(b.email[0]),alert("メールアドレスを更新しました")},onCancel:()=>{f(!1),g(e=>({...e,email:[j,""]})),alert("メールアドレスの変更をキャンセルしました")}})]})};var x=(0,n.createServerReference)("7fbeb07fc68d570ecfe29c8f2ee24d7c50d6cd9907",n.callServer,void 0,n.findSourceMapURL,"updateBusinessInfo");let u=(0,r.memo)(e=>{let{userType:n,userId:o,data:d,setCompletionStatus:i}=e,c=(0,t.useRouter)(),[u,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[b,g]=(0,r.useState)({businessType:[d.businessType||"",""],companyName:[d.companyName||"",""],representativeName:[d.representativeName||"",""],businessNumber:[d.businessNumber||"",""]}),v=async()=>{if(u||!confirm("この内容で保存しますか？"))return;h(!0),m&&p("");let{businessType:e,companyName:s,representativeName:r,businessNumber:t}=b,l=!1;e[0]&&("individual"===e[0]||"corporate"===e[0])||(e[1]="事業形態を選択してください",l=!0);let d=(0,a.validationForWord)(s[0],100);if(d.result||(s[1]=d.message,l=!0),(d=(0,a.validationForWord)(r[0],50)).result||(r[1]=d.message,l=!0),t[0]&&t[0].trim()&&((d=(0,a.validationForWord)(t[0],50)).result||(t[1]=d.message,l=!0)),l){g({businessType:e,companyName:s,representativeName:r,businessNumber:t}),p("入力内容に問題があります"),h(!1);return}try{let a=await x({userId:o,userType:n,businessType:e[0],companyName:s[0].trim(),representativeName:r[0].trim(),businessNumber:t[0].trim()});if(a.success)alert("事業者情報を保存しました"),i(e=>({...e,business:!0}));else{if(401===a.statusCode){alert("認証が失効しました。再度ログインしてください。"),c.push("/auth/".concat(n));return}p(a.errMsg)}}catch(s){let e=s instanceof Error?s.message:"保存に失敗しました。もう一度お試しください。";alert(e),p(e)}finally{h(!1)}},f=e=>{let s=e.target.name,r=e.target.value;g({...b,[s]:[r,""]}),m&&p("")},j="individual"===b.businessType[0],y="corporate"===b.businessType[0];return(0,s.jsxs)(s.Fragment,{children:[u&&(0,s.jsx)(l.default,{}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"事業者情報は任意です。法人契約や税務処理が必要な場合にご登録ください。"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["事業形態 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{name:"businessType",value:b.businessType[0],onChange:f,className:"w-full appearance-none p-3 bg-white border-2 ".concat(b.businessType[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"," focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 transition-all duration-300 focus:outline-none cursor-pointer"),disabled:u,children:[(0,s.jsx)("option",{value:"",children:"事業形態を選択してください"}),(0,s.jsx)("option",{value:"individual",children:"👤 個人事業主"}),(0,s.jsx)("option",{value:"corporate",children:"🏢 法人"})]}),b.businessType[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.businessType[1]]})]}),(j||y)&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:[j?"屋号":"会社名"," ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"companyName",value:b.companyName[0],onChange:f,placeholder:j?"屋号を入力してください（任意）":"会社名を入力してください",className:"w-full p-3 bg-white border-2 ".concat(b.companyName[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"," focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none"),disabled:u}),b.companyName[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.companyName[1]]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[b.companyName[0].length,"/100文字"]})]}),(j||y)&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:[j?"氏名":"代表者氏名"," ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"representativeName",value:b.representativeName[0],onChange:f,placeholder:j?"お名前を入力してください":"代表者氏名を入力してください",className:"w-full p-3 bg-white border-2 ".concat(b.representativeName[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"," focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none"),disabled:u}),b.representativeName[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.representativeName[1]]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[b.representativeName[0].length,"/50文字"]})]}),(j||y)&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:j?"個人事業主番号":"法人番号"}),(0,s.jsx)("input",{type:"text",name:"businessNumber",value:b.businessNumber[0],onChange:f,placeholder:j?"個人事業主番号（任意）":"13桁の法人番号（任意）",className:"w-full p-3 bg-white border-2 ".concat(b.businessNumber[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"," focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none"),disabled:u}),b.businessNumber[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.businessNumber[1]]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:j?"開業届に記載の番号":"国税庁から付与される13桁の番号"}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[b.businessNumber[0].length,"/50文字"]})]}),m&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m]})}),(j||y)&&(0,s.jsxs)("button",{type:"button",onClick:v,disabled:u,className:"w-full group relative overflow-hidden bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-blue-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,s.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"保存中..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsx)("span",{children:"事業者情報を保存"})]})})]})]})]})]})});u.displayName="BusinessInfoForm";let h=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return e.length>s?{result:!1,message:"".concat(s,"字以内で入力してください")}:/^[ぁ-んァ-ヶー一-龯０-９0-9A-Za-zＡ-Ｚａ-ｚ\-−ー（）()［］【】「」\s　丁目番地号のマンションビル棟階号室F]*$/.test(e)?/<[^>]*>/.test(e)?{result:!1,message:"HTMLタグは使用できません"}:{result:!0,message:"success"}:{result:!1,message:"建物名に使用できない文字が含まれています"}};var m=(0,n.createServerReference)("7f79ddf9b910455283c2bf06da310a546e53aad501",n.callServer,void 0,n.findSourceMapURL,"getAddressByPostalCode"),p=(0,n.createServerReference)("7f83fc7d4bd70615ca5cb88b0bd6c2927081adc837",n.callServer,void 0,n.findSourceMapURL,"updateAddress");let b=(0,r.memo)(e=>{let{userType:a,userId:n,data:o,setCompletionStatus:d}=e,i=(0,t.useRouter)(),[c,x]=(0,r.useState)(!1),[u,b]=(0,r.useState)(!1),[g,v]=(0,r.useState)(""),[f,j]=(0,r.useState)(!!o.postalCode),[y,N]=(0,r.useState)({country:["日本",""],postalCode:[o.postalCode||"",""],state:[o.state||"",""],city:[o.city||"",""],addressLine1:[o.addressLine1||"",""],addressLine2:[o.addressLine2||"",""]}),w=(0,r.useCallback)(async e=>{let s=e.replace(/[-\s]/g,"");if(7===s.length&&/^\d{7}$/.test(s)){b(!0);try{let r=await m(s);r.success&&r.addressData?(N(e=>({...e,state:[r.addressData.prefecture,""],city:[r.addressData.city,""],addressLine1:[r.addressData.town,""]})),j(!0),g&&v("")):(alert(r.errMsg),N({...y,postalCode:[e,r.errMsg]}),v(r.errMsg),j(!1))}catch(r){let s="住所検索中にエラーが発生しました。".concat(r instanceof Error&&r.message);alert(s),N({...y,postalCode:[e,s]}),v(s),j(!1)}finally{b(!1)}}},[]),k=async()=>{if(c||!confirm("この内容で保存しますか？"))return;x(!0),g&&v("");let{country:e,postalCode:s,state:r,city:t,addressLine1:l,addressLine2:o}=y,u=!1;if(s[0]&&s[0].trim()){let e=s[0].replace(/[-\s]/g,"");7===e.length&&/^\d{7}$/.test(e)||(s[1]="郵便番号は7桁の半角数字で入力してください",u=!0)}else s[1]="郵便番号を入力してください",u=!0;if(t[0]&&t[0].trim()||(t[1]="市区町村を入力してください",u=!0),o[0]&&o[0].trim()){let e=h(o[0],200);e.result||(o[1]=e.message,u=!0)}if(u){N({country:e,postalCode:s,state:r,city:t,addressLine1:l,addressLine2:o}),alert("入力内容に問題があります"),v("入力内容に問題があります"),x(!1);return}try{let c=await p({userId:n,userType:a,country:e[0].trim(),postalCode:s[0].trim(),state:r[0].trim(),city:t[0].trim(),addressLine1:l[0].trim(),addressLine2:o[0].trim()});if(c.success)alert("住所情報を保存しました"),d(e=>({...e,address:!0}));else{if(401===c.statusCode){alert("認証が失効しました。再度ログインしてください。"),i.push("/auth/".concat(a));return}v(c.errMsg)}}catch(s){let e=s instanceof Error?s.message:"保存に失敗しました。もう一度お試しください。";alert(e),v(e)}finally{x(!1)}},L=e=>{let s=e.target.name,r=e.target.value;if("postalCode"===s){let e=r.length;e>7?alert("郵便番号: 7字以上は入力できません"):7===e?(N({...y,[s]:[r,""]}),w(r)):N({...y,[s]:[r,"不足「".concat(7-e,"」")]})}else N({...y,[s]:[r,""]});g&&v("")};return(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)(l.default,{}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"住所情報は任意です。請求書送付や法的手続きが必要な場合にご登録ください。"}),(0,s.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"現在は日本国内の住所のみ対応しております。海外展開時には対応予定です。"]})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"国・地域"}),(0,s.jsx)("input",{type:"text",name:"country",value:y.country[0],readOnly:!0,className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl text-gray-600 cursor-not-allowed"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"※ 現在は日本のみ対応"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["郵便番号 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",name:"postalCode",value:y.postalCode[0],onChange:L,maxLength:7,placeholder:"例: 1234567 または 123-4567",className:"\n                                w-full p-3 bg-white border-2 \n                                ".concat(y.postalCode[1]?"border-red-500":"border-gray-200 hover:border-purple-300 focus:border-purple-500"," \n                                ").concat((c||u)&&"cursor-not-allowed","\n                                focus:ring-4 focus:ring-purple-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none\n                            "),disabled:c||u}),u&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -y-1/2",children:(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-purple-300 border-t-purple-600 rounded-full animate-spin"})})]}),y.postalCode[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.postalCode[1]]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"郵便番号を入力すると住所が自動補完されます"})]}),(0,s.jsxs)("div",{className:"space-y-6 transition-all duration-500 ".concat(f?"opacity-100":"opacity-40 pointer-events-none"),children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["都道府県・州 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"state",value:y.state[0],readOnly:!0,className:"w-full p-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-700 cursor-not-allowed",disabled:!f}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"※ 郵便番号から自動設定"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["市区町村 ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"city",value:y.city[0],readOnly:!0,className:"w-full p-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-700 cursor-not-allowed",disabled:!f}),y.city[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.city[1]]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"※ 郵便番号から自動設定"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"住所1行目（町名）"}),(0,s.jsx)("input",{type:"text",name:"addressLine1",value:y.addressLine1[0],readOnly:!0,className:"w-full p-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-700 cursor-not-allowed",disabled:!f}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"※ 郵便番号から自動設定"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"住所2行目（建物名・部屋番号など）"}),(0,s.jsx)("input",{type:"text",name:"addressLine2",value:y.addressLine2[0],onChange:L,placeholder:"例: パークビル5F、○○マンション101号室",className:"w-full p-3 bg-white border-2 ".concat(y.addressLine2[1]?"border-red-500":"border-gray-200 hover:border-purple-300 focus:border-purple-500"," focus:ring-4 focus:ring-purple-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none"),disabled:c||!f}),y.addressLine2[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.addressLine2[1]]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[y.addressLine2[0].length,"/200文字"]})]})]}),g&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g]})}),(0,s.jsxs)("button",{type:"button",onClick:k,disabled:c||!f,className:"w-full group relative overflow-hidden bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-purple-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,s.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"保存中..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsx)("span",{children:"住所情報を保存"})]})})]})]})]})]})});b.displayName="AddressFormV2";var g=(0,n.createServerReference)("7f968e218d8758db7ab36b6115b497134da9395c6f",n.callServer,void 0,n.findSourceMapURL,"updatePhoneNumber");let v=e=>{let{userType:n,userId:o,phoneLastNumber:i,setCompletionStatus:c}=e,x=(0,t.useRouter)(),[u,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[b,v]=(0,r.useState)({phoneNumber:["",""]}),[f,j]=(0,r.useState)(!1),[y,N]=(0,r.useState)(i),w=async()=>{if(u||!confirm(y?"電話番号は既に登録済みで。更新しますか？":"この電話番号にSMS認証コードを送信しますか？"))return;h(!0),m&&p("");let{phoneNumber:e}=b,s=(0,a.validationForPhoneNumber)(e[0]);if(!s.result){e[1]=s.message,v({phoneNumber:e}),p("入力内容に問題があります"),h(!1);return}try{let s=await g({userId:o,userType:n,phoneNumber:e[0].trim()});if(s.success)j(!0);else{if(401===s.statusCode){alert("認証が失効しました。再度ログインしてください。"),x.push("/auth/".concat(n));return}p(s.errMsg)}}catch(s){let e=s instanceof Error?s.message:"SMS送信に失敗しました。もう一度お試しください。";alert(e),p(e)}finally{h(!1)}},k="登録済み"===b.phoneNumber[0];return(0,s.jsxs)(s.Fragment,{children:[u&&(0,s.jsx)(l.default,{}),(0,s.jsxs)("div",{className:"\n            space-y-6\n            ".concat(f&&"min-h-[500px]","\n        "),children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"電話番号は任意です。SMS認証による本人確認が行われます。"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:y?"xxx-xxxx-".concat(y):"携帯電話番号"}),(0,s.jsx)("input",{type:"tel",name:"phoneNumber",value:b.phoneNumber[0],onChange:e=>{let s=e.target.name,r=e.target.value;v({...b,[s]:[r,""]}),m&&p("")},placeholder:y?"xxx-xxxx-".concat(y):"09012345678",disabled:u||k,className:"w-full p-3 bg-white border-2 ".concat(b.phoneNumber[1]?"border-red-500":k?"border-green-300 bg-green-50":"border-gray-200 hover:border-orange-300 focus:border-orange-500"," focus:ring-4 focus:ring-orange-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none ").concat(k?"cursor-not-allowed":"")}),b.phoneNumber[1]&&(0,s.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.phoneNumber[1]]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"日本国内の携帯電話番号（070/080/090）を入力してください"}),k&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"SMS認証済み"]})]}),m&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m]})}),!k&&(0,s.jsxs)("button",{type:"button",onClick:w,disabled:u,className:"w-full group relative overflow-hidden bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-orange-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,s.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"SMS送信中..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,s.jsx)("span",{children:"SMS認証を開始"})]})})]})]})]}),f&&(0,s.jsx)(d,{userType:n,type:"phone",value:b.phoneNumber[0],onSuccess:()=>{j(!1),c(e=>({...e,phone:!0})),N(b.phoneNumber[0].trim().slice(-4)),alert("電話番号を更新しました")},onCancel:()=>{j(!1),N("")}})]})},f=[{key:"basic",label:"基本情報",required:!0},{key:"business",label:"事業者情報",required:!1},{key:"address",label:"住所情報",required:!1},{key:"phone",label:"電話番号",required:!1}],j=e=>{var t,a;let{userType:l,userId:n,initialData:o}=e,[d,i]=(0,r.useState)({basic:!0,business:!!(o.businessType&&o.companyName&&o.representativeName),address:!!((null==(t=o.address)?void 0:t.country)&&(null==(a=o.address)?void 0:a.city)),phone:!!o.phone}),x=Object.values(d).filter(Boolean).length,h=x/4*100;return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 border border-white/50 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"設定進捗"}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 h-3 rounded-full transition-all duration-500",style:{width:"".concat(h,"%")}})})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-emerald-600",children:[x,"/4"]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"完了"})]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-3 mt-4",children:f.map(e=>{let{key:r,label:t,required:a}=e;return(0,s.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 ".concat(d[r]?"bg-emerald-100 text-emerald-700":a?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"),children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(d[r]?"bg-emerald-500":"bg-gray-400")}),t,a&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]},r)})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"基本情報"}),(0,s.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"必須"})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(c,{userType:l,userId:n,data:{name:o.name,email:o.email,birthDate:o.birthDate},setCompletionStatus:i})})]}),(0,s.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"事業者情報"}),(0,s.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"任意"})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(u,{userType:l,userId:n,data:{businessType:o.businessType,companyName:o.companyName,representativeName:o.representativeName,businessNumber:o.businessNumber},setCompletionStatus:i})})]}),(0,s.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"住所情報"}),(0,s.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"任意"})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(b,{userType:l,userId:n,data:o.address?{country:o.address.country,postalCode:o.address.postalCode,state:o.address.state,city:o.address.city,addressLine1:o.address.addressLine1,addressLine2:o.address.addressLine2}:{country:null,postalCode:null,state:null,city:null,addressLine1:null,addressLine2:null},setCompletionStatus:i})})]}),(0,s.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white",children:"電話番号"}),(0,s.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"任意"})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(v,{userType:l,userId:n,phoneLastNumber:o.phone?o.phone.phoneLastNumber:"",setCompletionStatus:i})})]})]})]})}}]);