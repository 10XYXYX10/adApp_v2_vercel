module.exports=[562163,a=>{"use strict";a.s(["default",()=>t],562163);var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(239148),f=a.i(340754),g=a.i(405050),h=(0,g.createServerReference)("7fe7fc0c3733cd58ed9253dbf9b54008a3aa65b07a",g.callServer,void 0,g.findSourceMapURL,"receive2FACode");let i=({userType:a,type:g,value:i,onSuccess:j,onCancel:k})=>{let l=(0,d.useRouter)(),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(180);(0,c.useEffect)(()=>{if(s<=0)return;let a=setInterval(()=>{t(a=>a<=1?(p("èªè¨¼æ™‚é–“ãŒçµ‚äº†ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚"),0):a-1)},1e3);return()=>clearInterval(a)},[s]);let u=async()=>{if(m)return;n(!0),o&&p("");let b=(0,e.validationForAuthenticationPassword)(q);if(!b.result){p(b.message),n(!1);return}try{let b=await h({userType:a,type:g,value:i,authenticationPassword:q});if(b.success)j();else{if(401===b.statusCode){alert("èªè¨¼ãŒå¤±åŠ¹ã—ã¾ã—ãŸã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚"),l.push(`/auth/${a}`);return}p(b.errMsg)}}catch(a){p(a instanceof Error?a.message:"èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚")}finally{n(!1)}},v="email"===g?i:`****-****-${i.slice(-4)}`;return(0,b.jsxs)(b.Fragment,{children:[m&&(0,b.jsx)(f.default,{}),(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl border border-white/50 w-full max-w-md mx-auto relative overflow-hidden my-auto",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/80 via-teal-50/60 to-cyan-50/40"}),(0,b.jsx)("div",{className:"relative z-10 p-6 border-b border-emerald-100/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center",children:"email"===g?(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"2æ®µéšèªè¨¼"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"èªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]})]}),(0,b.jsx)("button",{onClick:k,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,b.jsxs)("div",{className:"relative z-10 p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-gray-600 mb-2",children:"èªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’é€ä¿¡ã—ã¾ã—ãŸ"}),(0,b.jsx)("p",{className:"font-bold text-gray-900 bg-gray-50 rounded-lg p-3",children:v})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${s>60?"bg-green-100 text-green-700":s>30?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"font-bold",children:(a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`})(s)})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"èªè¨¼ã‚³ãƒ¼ãƒ‰ã®æœ‰åŠ¹æœŸé™"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"èªè¨¼ã‚³ãƒ¼ãƒ‰ï¼ˆ6æ¡ï¼‰"}),(0,b.jsx)("input",{type:"text",value:q,onChange:a=>{r(a.target.value.replace(/\D/g,"").slice(0,6)),o&&p("")},placeholder:"123456",maxLength:6,className:`w-full p-4 text-center text-2xl font-bold tracking-widest bg-white border-2 ${o?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"} focus:ring-4 focus:ring-emerald-500/20 rounded-xl transition-all duration-300 focus:outline-none`,disabled:m||s<=0}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 text-right",children:[q.length,"/6æ–‡å­—"]})]}),o&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 bg-white hover:bg-gray-50 border-2 border-gray-300 hover:border-gray-400 text-gray-700 rounded-xl font-bold transition-all duration-300",children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,b.jsxs)("button",{type:"button",onClick:u,disabled:m||6!==q.length||s<=0,className:"flex-1 group relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-4 py-3 rounded-xl font-bold shadow-lg hover:shadow-emerald-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,b.jsx)("div",{className:"relative flex items-center justify-center gap-2",children:m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,b.jsx)("span",{children:"èªè¨¼ä¸­..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{children:"èªè¨¼"})]})})]})]})]}),(0,b.jsx)("div",{className:"absolute top-4 right-4 w-12 h-12 bg-gradient-to-br from-emerald-400/20 to-teal-500/20 rounded-full blur-lg"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 bg-gradient-to-br from-teal-400/20 to-cyan-500/20 rounded-full blur-lg"})]})})]})};var j=(0,g.createServerReference)("7fd83605894b95fb90a5c28b8cca3b086fcdb1c676",g.callServer,void 0,g.findSourceMapURL,"updateBasicProfile");let k=({userType:a,userId:f,data:g,setCompletionStatus:h})=>{let k=(0,d.useRouter)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)({name:[g.name,""],email:[g.email,""],birthDate:[g.birthDate.toISOString().split("T")[0],""]}),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(g.email),v=async()=>{if(l||!confirm("ã“ã®å†…å®¹ã§ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ"))return;m(!0),n&&o("");let{name:b,email:c,birthDate:d}=p,g=!1,i=new Date(d[0]),r=(0,e.validationForWord)(b[0],50);r.result||(b[1]=r.message,g=!0),(r=(0,e.validationForEmail)(c[0])).result||(c[1]=r.message,g=!0);let t=new Date;if(isNaN(i.getTime()))d[1]="æœ‰åŠ¹ãªæ—¥ä»˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",g=!0;else{let a=t.getFullYear()-i.getFullYear(),b=t.getMonth()-i.getMonth(),c=t.getDate()-i.getDate(),e=a;(b<0||0===b&&c<0)&&e--,e<18&&(d[1]="18æ­³ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™",g=!0),i>t&&(d[1]="æœªæ¥ã®æ—¥ä»˜ã¯å…¥åŠ›ã§ãã¾ã›ã‚“",g=!0)}if(g){q({name:b,email:c,birthDate:d}),o("å…¥åŠ›å†…å®¹ã«å•é¡ŒãŒã‚ã‚Šã¾ã™"),m(!1);return}try{let e=await j({userId:f,userType:a,name:b[0].trim(),email:c[0].trim(),birthDate:d[0]});if(e.success)e.needsAuth?(s(!0),alert("åŸºæœ¬æƒ…å ±ï¼ˆæ°åãƒ»ç”Ÿå¹´æœˆæ—¥ï¼‰ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚\nãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å¤‰æ›´ã«ã¯èªè¨¼ãŒå¿…è¦ã§ã™ã€‚")):alert("åŸºæœ¬æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã—ãŸ"),h(a=>({...a,basic:!0}));else{if(401===e.statusCode){alert("èªè¨¼ãŒå¤±åŠ¹ã—ã¾ã—ãŸã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚"),k.push(`/auth/${a}`);return}o(e.errMsg)}}catch(b){let a=b instanceof Error?b.message:"ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";alert(a),o(a)}finally{m(!1)}},w=a=>{let b=a.target.name,c=a.target.value;q({...p,[b]:[c,""]}),n&&o("")};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"åŸºæœ¬çš„ãªã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã§ã™ã€‚ã“ã®æƒ…å ±ã¯å¿…é ˆé …ç›®ã¨ãªã‚Šã¾ã™ã€‚"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["æ°å ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"name",value:p.name[0],onChange:w,placeholder:"ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",className:`w-full p-3 bg-white border-2 ${p.name[1]?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"} focus:ring-4 focus:ring-emerald-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none`,disabled:l}),p.name[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.name[1]]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[p.name[0].length,"/50æ–‡å­—"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"email",name:"email",value:p.email[0],onChange:w,placeholder:"example@email.com",className:`w-full p-3 bg-white border-2 ${p.email[1]?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"} focus:ring-4 focus:ring-emerald-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none`,disabled:l}),p.email[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.email[1]]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["ç”Ÿå¹´æœˆæ—¥ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"date",name:"birthDate",value:p.birthDate[0],onChange:w,max:new Date().toISOString().split("T")[0],className:`w-full p-3 bg-white border-2 ${p.birthDate[1]?"border-red-500":"border-gray-200 hover:border-emerald-300 focus:border-emerald-500"} focus:ring-4 focus:ring-emerald-500/20 rounded-xl text-gray-800 transition-all duration-300 focus:outline-none`,disabled:l}),p.birthDate[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.birthDate[1]]}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"18æ­³ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™"})]}),n&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]})}),(0,b.jsxs)("button",{type:"button",onClick:v,disabled:l,className:"w-full group relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-emerald-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,b.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,b.jsx)("span",{children:"ä¿å­˜ä¸­..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,b.jsx)("span",{children:"åŸºæœ¬æƒ…å ±ã‚’ä¿å­˜"})]})})]})]}),r&&(0,b.jsx)(i,{userType:a,type:"email",value:p.email[0],onSuccess:()=>{s(!1),u(p.email[0]),alert("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ›´æ–°ã—ã¾ã—ãŸ")},onCancel:()=>{s(!1),q(a=>({...a,email:[t,""]})),alert("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å¤‰æ›´ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸ")}})]})};var l=(0,g.createServerReference)("7fbeb07fc68d570ecfe29c8f2ee24d7c50d6cd9907",g.callServer,void 0,g.findSourceMapURL,"updateBusinessInfo");let m=(0,c.memo)(({userType:a,userId:g,data:h,setCompletionStatus:i})=>{let j=(0,d.useRouter)(),[k,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)({businessType:[h.businessType||"",""],companyName:[h.companyName||"",""],representativeName:[h.representativeName||"",""],businessNumber:[h.businessNumber||"",""]}),r=async()=>{if(k||!confirm("ã“ã®å†…å®¹ã§ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ"))return;m(!0),n&&o("");let{businessType:b,companyName:c,representativeName:d,businessNumber:f}=p,h=!1;b[0]&&("individual"===b[0]||"corporate"===b[0])||(b[1]="äº‹æ¥­å½¢æ…‹ã‚’é¸æŠã—ã¦ãã ã•ã„",h=!0);let r=(0,e.validationForWord)(c[0],100);if(r.result||(c[1]=r.message,h=!0),(r=(0,e.validationForWord)(d[0],50)).result||(d[1]=r.message,h=!0),f[0]&&f[0].trim()&&((r=(0,e.validationForWord)(f[0],50)).result||(f[1]=r.message,h=!0)),h){q({businessType:b,companyName:c,representativeName:d,businessNumber:f}),o("å…¥åŠ›å†…å®¹ã«å•é¡ŒãŒã‚ã‚Šã¾ã™"),m(!1);return}try{let e=await l({userId:g,userType:a,businessType:b[0],companyName:c[0].trim(),representativeName:d[0].trim(),businessNumber:f[0].trim()});if(e.success)alert("äº‹æ¥­è€…æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã—ãŸ"),i(a=>({...a,business:!0}));else{if(401===e.statusCode){alert("èªè¨¼ãŒå¤±åŠ¹ã—ã¾ã—ãŸã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚"),j.push(`/auth/${a}`);return}o(e.errMsg)}}catch(b){let a=b instanceof Error?b.message:"ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";alert(a),o(a)}finally{m(!1)}},s=a=>{let b=a.target.name,c=a.target.value;q({...p,[b]:[c,""]}),n&&o("")},t="individual"===p.businessType[0],u="corporate"===p.businessType[0];return(0,b.jsxs)(b.Fragment,{children:[k&&(0,b.jsx)(f.default,{}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"äº‹æ¥­è€…æƒ…å ±ã¯ä»»æ„ã§ã™ã€‚æ³•äººå¥‘ç´„ã‚„ç¨å‹™å‡¦ç†ãŒå¿…è¦ãªå ´åˆã«ã”ç™»éŒ²ãã ã•ã„ã€‚"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["äº‹æ¥­å½¢æ…‹ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{name:"businessType",value:p.businessType[0],onChange:s,className:`w-full appearance-none p-3 bg-white border-2 ${p.businessType[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"} focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 transition-all duration-300 focus:outline-none cursor-pointer`,disabled:k,children:[(0,b.jsx)("option",{value:"",children:"äº‹æ¥­å½¢æ…‹ã‚’é¸æŠã—ã¦ãã ã•ã„"}),(0,b.jsx)("option",{value:"individual",children:"ğŸ‘¤ å€‹äººäº‹æ¥­ä¸»"}),(0,b.jsx)("option",{value:"corporate",children:"ğŸ¢ æ³•äºº"})]}),p.businessType[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.businessType[1]]})]}),(t||u)&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:[t?"å±‹å·":"ä¼šç¤¾å"," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"companyName",value:p.companyName[0],onChange:s,placeholder:t?"å±‹å·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä»»æ„ï¼‰":"ä¼šç¤¾åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",className:`w-full p-3 bg-white border-2 ${p.companyName[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"} focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none`,disabled:k}),p.companyName[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.companyName[1]]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[p.companyName[0].length,"/100æ–‡å­—"]})]}),(t||u)&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:[t?"æ°å":"ä»£è¡¨è€…æ°å"," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"representativeName",value:p.representativeName[0],onChange:s,placeholder:t?"ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„":"ä»£è¡¨è€…æ°åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",className:`w-full p-3 bg-white border-2 ${p.representativeName[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"} focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none`,disabled:k}),p.representativeName[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.representativeName[1]]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[p.representativeName[0].length,"/50æ–‡å­—"]})]}),(t||u)&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:t?"å€‹äººäº‹æ¥­ä¸»ç•ªå·":"æ³•äººç•ªå·"}),(0,b.jsx)("input",{type:"text",name:"businessNumber",value:p.businessNumber[0],onChange:s,placeholder:t?"å€‹äººäº‹æ¥­ä¸»ç•ªå·ï¼ˆä»»æ„ï¼‰":"13æ¡ã®æ³•äººç•ªå·ï¼ˆä»»æ„ï¼‰",className:`w-full p-3 bg-white border-2 ${p.businessNumber[1]?"border-red-500":"border-gray-200 hover:border-blue-300 focus:border-blue-500"} focus:ring-4 focus:ring-blue-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none`,disabled:k}),p.businessNumber[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.businessNumber[1]]}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:t?"é–‹æ¥­å±Šã«è¨˜è¼‰ã®ç•ªå·":"å›½ç¨åºã‹ã‚‰ä»˜ä¸ã•ã‚Œã‚‹13æ¡ã®ç•ªå·"}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[p.businessNumber[0].length,"/50æ–‡å­—"]})]}),n&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]})}),(t||u)&&(0,b.jsxs)("button",{type:"button",onClick:r,disabled:k,className:"w-full group relative overflow-hidden bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-blue-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,b.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,b.jsx)("span",{children:"ä¿å­˜ä¸­..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,b.jsx)("span",{children:"äº‹æ¥­è€…æƒ…å ±ã‚’ä¿å­˜"})]})})]})]})]})]})});m.displayName="BusinessInfoForm";var n=(0,g.createServerReference)("7f79ddf9b910455283c2bf06da310a546e53aad501",g.callServer,void 0,g.findSourceMapURL,"getAddressByPostalCode"),o=(0,g.createServerReference)("7f83fc7d4bd70615ca5cb88b0bd6c2927081adc837",g.callServer,void 0,g.findSourceMapURL,"updateAddress");let p=(0,c.memo)(({userType:a,userId:e,data:g,setCompletionStatus:h})=>{let i=(0,d.useRouter)(),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!!g.postalCode),[t,u]=(0,c.useState)({country:["æ—¥æœ¬",""],postalCode:[g.postalCode||"",""],state:[g.state||"",""],city:[g.city||"",""],addressLine1:[g.addressLine1||"",""],addressLine2:[g.addressLine2||"",""]}),v=(0,c.useCallback)(async a=>{let b=a.replace(/[-\s]/g,"");if(7===b.length&&/^\d{7}$/.test(b)){m(!0);try{let c=await n(b);c.success&&c.addressData?(u(a=>({...a,state:[c.addressData.prefecture,""],city:[c.addressData.city,""],addressLine1:[c.addressData.town,""]})),s(!0),p&&q("")):(alert(c.errMsg),u({...t,postalCode:[a,c.errMsg]}),q(c.errMsg),s(!1))}catch(c){let b=`ä½æ‰€æ¤œç´¢ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚${c instanceof Error&&c.message}`;alert(b),u({...t,postalCode:[a,b]}),q(b),s(!1)}finally{m(!1)}}},[]),w=async()=>{if(j||!confirm("ã“ã®å†…å®¹ã§ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ"))return;k(!0),p&&q("");let{country:b,postalCode:c,state:d,city:f,addressLine1:g,addressLine2:l}=t,m=!1;if(c[0]&&c[0].trim()){let a=c[0].replace(/[-\s]/g,"");7===a.length&&/^\d{7}$/.test(a)||(c[1]="éƒµä¾¿ç•ªå·ã¯7æ¡ã®åŠè§’æ•°å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„",m=!0)}else c[1]="éƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",m=!0;if(f[0]&&f[0].trim()||(f[1]="å¸‚åŒºç”ºæ‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",m=!0),l[0]&&l[0].trim()){let a=((a,b=200)=>a.length>b?{result:!1,message:`${b}å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„`}:/^[ã-ã‚“ã‚¡-ãƒ¶ãƒ¼ä¸€-é¾¯ï¼-ï¼™0-9A-Za-zï¼¡-ï¼ºï½-ï½š\-âˆ’ãƒ¼ï¼ˆï¼‰()ï¼»ï¼½ã€ã€‘ã€Œã€\sã€€ä¸ç›®ç•ªåœ°å·ã®ãƒãƒ³ã‚·ãƒ§ãƒ³ãƒ“ãƒ«æ£Ÿéšå·å®¤F]*$/.test(a)?/<[^>]*>/.test(a)?{result:!1,message:"HTMLã‚¿ã‚°ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“"}:{result:!0,message:"success"}:{result:!1,message:"å»ºç‰©åã«ä½¿ç”¨ã§ããªã„æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ã¾ã™"})(l[0],200);a.result||(l[1]=a.message,m=!0)}if(m){u({country:b,postalCode:c,state:d,city:f,addressLine1:g,addressLine2:l}),alert("å…¥åŠ›å†…å®¹ã«å•é¡ŒãŒã‚ã‚Šã¾ã™"),q("å…¥åŠ›å†…å®¹ã«å•é¡ŒãŒã‚ã‚Šã¾ã™"),k(!1);return}try{let j=await o({userId:e,userType:a,country:b[0].trim(),postalCode:c[0].trim(),state:d[0].trim(),city:f[0].trim(),addressLine1:g[0].trim(),addressLine2:l[0].trim()});if(j.success)alert("ä½æ‰€æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã—ãŸ"),h(a=>({...a,address:!0}));else{if(401===j.statusCode){alert("èªè¨¼ãŒå¤±åŠ¹ã—ã¾ã—ãŸã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚"),i.push(`/auth/${a}`);return}q(j.errMsg)}}catch(b){let a=b instanceof Error?b.message:"ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";alert(a),q(a)}finally{k(!1)}},x=a=>{let b=a.target.name,c=a.target.value;if("postalCode"===b){let a=c.length;a>7?alert("éƒµä¾¿ç•ªå·: 7å­—ä»¥ä¸Šã¯å…¥åŠ›ã§ãã¾ã›ã‚“"):7===a?(u({...t,[b]:[c,""]}),v(c)):u({...t,[b]:[c,`ä¸è¶³ã€Œ${7-a}ã€`]})}else u({...t,[b]:[c,""]});p&&q("")};return(0,b.jsxs)(b.Fragment,{children:[j&&(0,b.jsx)(f.default,{}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"ä½æ‰€æƒ…å ±ã¯ä»»æ„ã§ã™ã€‚è«‹æ±‚æ›¸é€ä»˜ã‚„æ³•çš„æ‰‹ç¶šããŒå¿…è¦ãªå ´åˆã«ã”ç™»éŒ²ãã ã•ã„ã€‚"}),(0,b.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"ç¾åœ¨ã¯æ—¥æœ¬å›½å†…ã®ä½æ‰€ã®ã¿å¯¾å¿œã—ã¦ãŠã‚Šã¾ã™ã€‚æµ·å¤–å±•é–‹æ™‚ã«ã¯å¯¾å¿œäºˆå®šã§ã™ã€‚"]})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"å›½ãƒ»åœ°åŸŸ"}),(0,b.jsx)("input",{type:"text",name:"country",value:t.country[0],readOnly:!0,className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl text-gray-600 cursor-not-allowed"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"â€» ç¾åœ¨ã¯æ—¥æœ¬ã®ã¿å¯¾å¿œ"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["éƒµä¾¿ç•ªå· ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",name:"postalCode",value:t.postalCode[0],onChange:x,maxLength:7,placeholder:"ä¾‹: 1234567 ã¾ãŸã¯ 123-4567",className:`
                                w-full p-3 bg-white border-2 
                                ${t.postalCode[1]?"border-red-500":"border-gray-200 hover:border-purple-300 focus:border-purple-500"} 
                                ${(j||l)&&"cursor-not-allowed"}
                                focus:ring-4 focus:ring-purple-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none
                            `,disabled:j||l}),l&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -y-1/2",children:(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-purple-300 border-t-purple-600 rounded-full animate-spin"})})]}),t.postalCode[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.postalCode[1]]}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"éƒµä¾¿ç•ªå·ã‚’å…¥åŠ›ã™ã‚‹ã¨ä½æ‰€ãŒè‡ªå‹•è£œå®Œã•ã‚Œã¾ã™"})]}),(0,b.jsxs)("div",{className:`space-y-6 transition-all duration-500 ${r?"opacity-100":"opacity-40 pointer-events-none"}`,children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["éƒ½é“åºœçœŒãƒ»å· ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"state",value:t.state[0],readOnly:!0,className:"w-full p-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-700 cursor-not-allowed",disabled:!r}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"â€» éƒµä¾¿ç•ªå·ã‹ã‚‰è‡ªå‹•è¨­å®š"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-gray-900",children:["å¸‚åŒºç”ºæ‘ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"city",value:t.city[0],readOnly:!0,className:"w-full p-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-700 cursor-not-allowed",disabled:!r}),t.city[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.city[1]]}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"â€» éƒµä¾¿ç•ªå·ã‹ã‚‰è‡ªå‹•è¨­å®š"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"ä½æ‰€1è¡Œç›®ï¼ˆç”ºåï¼‰"}),(0,b.jsx)("input",{type:"text",name:"addressLine1",value:t.addressLine1[0],readOnly:!0,className:"w-full p-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-700 cursor-not-allowed",disabled:!r}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"â€» éƒµä¾¿ç•ªå·ã‹ã‚‰è‡ªå‹•è¨­å®š"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:"ä½æ‰€2è¡Œç›®ï¼ˆå»ºç‰©åãƒ»éƒ¨å±‹ç•ªå·ãªã©ï¼‰"}),(0,b.jsx)("input",{type:"text",name:"addressLine2",value:t.addressLine2[0],onChange:x,placeholder:"ä¾‹: ãƒ‘ãƒ¼ã‚¯ãƒ“ãƒ«5Fã€â—‹â—‹ãƒãƒ³ã‚·ãƒ§ãƒ³101å·å®¤",className:`w-full p-3 bg-white border-2 ${t.addressLine2[1]?"border-red-500":"border-gray-200 hover:border-purple-300 focus:border-purple-500"} focus:ring-4 focus:ring-purple-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none`,disabled:j||!r}),t.addressLine2[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.addressLine2[1]]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 text-right",children:[t.addressLine2[0].length,"/200æ–‡å­—"]})]})]}),p&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p]})}),(0,b.jsxs)("button",{type:"button",onClick:w,disabled:j||!r,className:"w-full group relative overflow-hidden bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-purple-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,b.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,b.jsx)("span",{children:"ä¿å­˜ä¸­..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,b.jsx)("span",{children:"ä½æ‰€æƒ…å ±ã‚’ä¿å­˜"})]})})]})]})]})]})});p.displayName="AddressFormV2";var q=(0,g.createServerReference)("7f968e218d8758db7ab36b6115b497134da9395c6f",g.callServer,void 0,g.findSourceMapURL,"updatePhoneNumber");let r=({userType:a,userId:g,phoneLastNumber:h,setCompletionStatus:j})=>{let k=(0,d.useRouter)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(""),[p,r]=(0,c.useState)({phoneNumber:["",""]}),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(h),w=async()=>{if(l||!confirm(u?"é›»è©±ç•ªå·ã¯æ—¢ã«ç™»éŒ²æ¸ˆã¿ã§ã€‚æ›´æ–°ã—ã¾ã™ã‹ï¼Ÿ":"ã“ã®é›»è©±ç•ªå·ã«SMSèªè¨¼ã‚³ãƒ¼ãƒ‰ã‚’é€ä¿¡ã—ã¾ã™ã‹ï¼Ÿ"))return;m(!0),n&&o("");let{phoneNumber:b}=p,c=(0,e.validationForPhoneNumber)(b[0]);if(!c.result){b[1]=c.message,r({phoneNumber:b}),o("å…¥åŠ›å†…å®¹ã«å•é¡ŒãŒã‚ã‚Šã¾ã™"),m(!1);return}try{let c=await q({userId:g,userType:a,phoneNumber:b[0].trim()});if(c.success)t(!0);else{if(401===c.statusCode){alert("èªè¨¼ãŒå¤±åŠ¹ã—ã¾ã—ãŸã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚"),k.push(`/auth/${a}`);return}o(c.errMsg)}}catch(b){let a=b instanceof Error?b.message:"SMSé€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";alert(a),o(a)}finally{m(!1)}},x="ç™»éŒ²æ¸ˆã¿"===p.phoneNumber[0];return(0,b.jsxs)(b.Fragment,{children:[l&&(0,b.jsx)(f.default,{}),(0,b.jsxs)("div",{className:`
            space-y-6
            ${s&&"min-h-[500px]"}
        `,children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"é›»è©±ç•ªå·ã¯ä»»æ„ã§ã™ã€‚SMSèªè¨¼ã«ã‚ˆã‚‹æœ¬äººç¢ºèªãŒè¡Œã‚ã‚Œã¾ã™ã€‚"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-900",children:u?`xxx-xxxx-${u}`:"æºå¸¯é›»è©±ç•ªå·"}),(0,b.jsx)("input",{type:"tel",name:"phoneNumber",value:p.phoneNumber[0],onChange:a=>{let b=a.target.name,c=a.target.value;r({...p,[b]:[c,""]}),n&&o("")},placeholder:u?`xxx-xxxx-${u}`:"09012345678",disabled:l||x,className:`w-full p-3 bg-white border-2 ${p.phoneNumber[1]?"border-red-500":x?"border-green-300 bg-green-50":"border-gray-200 hover:border-orange-300 focus:border-orange-500"} focus:ring-4 focus:ring-orange-500/20 rounded-xl text-gray-800 placeholder-gray-400 transition-all duration-300 focus:outline-none ${x?"cursor-not-allowed":""}`}),p.phoneNumber[1]&&(0,b.jsxs)("span",{className:"text-red-500 text-xs flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.phoneNumber[1]]}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"æ—¥æœ¬å›½å†…ã®æºå¸¯é›»è©±ç•ªå·ï¼ˆ070/080/090ï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"}),x&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"SMSèªè¨¼æ¸ˆã¿"]})]}),n&&(0,b.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl",children:(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n]})}),!x&&(0,b.jsxs)("button",{type:"button",onClick:w,disabled:l,className:"w-full group relative overflow-hidden bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 disabled:from-gray-400 disabled:to-gray-500 text-white px-6 py-4 rounded-xl font-bold shadow-lg hover:shadow-orange-500/30 disabled:shadow-none transition-all duration-300 hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed transform",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 group-disabled:opacity-0 transition-opacity duration-300"}),(0,b.jsx)("div",{className:"relative flex items-center justify-center gap-3",children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,b.jsx)("span",{children:"SMSé€ä¿¡ä¸­..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-5 h-5 transition-transform duration-200 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,b.jsx)("span",{children:"SMSèªè¨¼ã‚’é–‹å§‹"})]})})]})]})]}),s&&(0,b.jsx)(i,{userType:a,type:"phone",value:p.phoneNumber[0],onSuccess:()=>{t(!1),j(a=>({...a,phone:!0})),v(p.phoneNumber[0].trim().slice(-4)),alert("é›»è©±ç•ªå·ã‚’æ›´æ–°ã—ã¾ã—ãŸ")},onCancel:()=>{t(!1),v("")}})]})},s=[{key:"basic",label:"åŸºæœ¬æƒ…å ±",required:!0},{key:"business",label:"äº‹æ¥­è€…æƒ…å ±",required:!1},{key:"address",label:"ä½æ‰€æƒ…å ±",required:!1},{key:"phone",label:"é›»è©±ç•ªå·",required:!1}],t=({userType:a,userId:d,initialData:e})=>{let[f,g]=(0,c.useState)({basic:!0,business:!!(e.businessType&&e.companyName&&e.representativeName),address:!!(e.address?.country&&e.address?.city),phone:!!e.phone}),h=Object.values(f).filter(Boolean).length,i=h/4*100;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 border border-white/50 shadow-lg",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"è¨­å®šé€²æ—"}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 h-3 rounded-full transition-all duration-500",style:{width:`${i}%`}})})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-emerald-600",children:[h,"/4"]}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"å®Œäº†"})]})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3 mt-4",children:s.map(({key:a,label:c,required:d})=>(0,b.jsxs)("div",{className:`px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 ${f[a]?"bg-emerald-100 text-emerald-700":d?"bg-red-100 text-red-700":"bg-gray-100 text-gray-500"}`,children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${f[a]?"bg-emerald-500":"bg-gray-400"}`}),c,d&&(0,b.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]},a))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"åŸºæœ¬æƒ…å ±"}),(0,b.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"å¿…é ˆ"})]})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)(k,{userType:a,userId:d,data:{name:e.name,email:e.email,birthDate:e.birthDate},setCompletionStatus:g})})]}),(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"äº‹æ¥­è€…æƒ…å ±"}),(0,b.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"ä»»æ„"})]})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)(m,{userType:a,userId:d,data:{businessType:e.businessType,companyName:e.companyName,representativeName:e.representativeName,businessNumber:e.businessNumber},setCompletionStatus:g})})]}),(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"ä½æ‰€æƒ…å ±"}),(0,b.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"ä»»æ„"})]})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)(p,{userType:a,userId:d,data:e.address?{country:e.address.country,postalCode:e.address.postalCode,state:e.address.state,city:e.address.city,addressLine1:e.address.addressLine1,addressLine2:e.address.addressLine2}:{country:null,postalCode:null,state:null,city:null,addressLine1:null,addressLine2:null},setCompletionStatus:g})})]}),(0,b.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"é›»è©±ç•ªå·"}),(0,b.jsx)("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:"ä»»æ„"})]})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)(r,{userType:a,userId:d,phoneLastNumber:e.phone?e.phone.phoneLastNumber:"",setCompletionStatus:g})})]})]})]})}}];

//# sourceMappingURL=src_components_profile_ProfileFormBundle_tsx_32db8caf._.js.map