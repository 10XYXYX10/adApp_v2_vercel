module.exports=[636070,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/point/advertiser/purchase/success/PaymentSuccessClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/point/advertiser/purchase/success/PaymentSuccessClient.tsx <module evaluation>","default")},144678,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/point/advertiser/purchase/success/PaymentSuccessClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/point/advertiser/purchase/success/PaymentSuccessClient.tsx","default")},693641,a=>{"use strict";a.i(636070);var b=a.i(144678);a.n(b)},427696,a=>{"use strict";a.s(["default",()=>k],427696);var b=a.i(907997),c=a.i(800717);a.i(570396);var d=a.i(673727);function e(){return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,b.jsx)("div",{className:"text-center mb-12",children:(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-200 rounded-full animate-pulse"}),(0,b.jsx)("div",{className:"h-12 w-64 mx-auto bg-gray-200 rounded-lg animate-pulse mb-4"}),(0,b.jsx)("div",{className:"h-6 w-80 mx-auto bg-gray-200 rounded-lg animate-pulse"})]})}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-200 px-8 py-6 animate-pulse",children:(0,b.jsx)("div",{className:"h-8 w-32 bg-gray-300 rounded animate-pulse"})}),(0,b.jsxs)("div",{className:"p-8 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl",children:[(0,b.jsx)("div",{className:"h-5 w-24 bg-gray-200 rounded animate-pulse"}),(0,b.jsxs)("div",{className:"text-right space-y-2",children:[(0,b.jsx)("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-4 w-16 bg-gray-200 rounded animate-pulse"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl",children:[(0,b.jsx)("div",{className:"h-5 w-24 bg-gray-200 rounded animate-pulse"}),(0,b.jsxs)("div",{className:"text-right space-y-2",children:[(0,b.jsx)("div",{className:"h-6 w-20 bg-gray-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-4 w-16 bg-gray-200 rounded animate-pulse"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl",children:[(0,b.jsx)("div",{className:"h-5 w-20 bg-gray-200 rounded animate-pulse"}),(0,b.jsxs)("div",{className:"text-right space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,b.jsx)("div",{className:"h-6 w-6 bg-gray-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse"})]}),(0,b.jsx)("div",{className:"h-4 w-12 bg-gray-200 rounded animate-pulse"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-200 px-8 py-6 animate-pulse",children:(0,b.jsx)("div",{className:"h-8 w-32 bg-gray-300 rounded animate-pulse"})}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"h-16 w-48 mx-auto bg-gray-200 rounded-lg animate-pulse mb-2"}),(0,b.jsx)("div",{className:"h-6 w-16 mx-auto bg-gray-200 rounded animate-pulse"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("div",{className:"h-4 w-20 mx-auto bg-gray-200 rounded animate-pulse mb-1"}),(0,b.jsx)("div",{className:"h-6 w-32 mx-auto bg-gray-200 rounded animate-pulse"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-2 border-t border-gray-200",children:[(0,b.jsx)("div",{className:"h-5 w-5 bg-gray-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-5 w-32 bg-gray-200 rounded animate-pulse"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[(0,b.jsx)("div",{className:"bg-gray-200 rounded-2xl p-8 animate-pulse",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"h-12 w-12 mx-auto bg-gray-300 rounded animate-pulse mb-4"}),(0,b.jsx)("div",{className:"h-8 w-32 mx-auto bg-gray-300 rounded animate-pulse mb-2"}),(0,b.jsx)("div",{className:"h-5 w-40 mx-auto bg-gray-300 rounded animate-pulse mb-4"}),(0,b.jsx)("div",{className:"h-6 w-24 mx-auto bg-gray-300 rounded animate-pulse"})]})}),(0,b.jsx)("div",{className:"bg-gray-200 rounded-2xl p-8 animate-pulse",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"h-12 w-12 mx-auto bg-gray-300 rounded animate-pulse mb-4"}),(0,b.jsx)("div",{className:"h-8 w-32 mx-auto bg-gray-300 rounded animate-pulse mb-2"}),(0,b.jsx)("div",{className:"h-5 w-40 mx-auto bg-gray-300 rounded animate-pulse mb-4"}),(0,b.jsx)("div",{className:"h-6 w-24 mx-auto bg-gray-300 rounded animate-pulse"})]})})]}),(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"h-6 w-6 bg-gray-200 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded animate-pulse mt-1"}),(0,b.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded animate-pulse mt-1"}),(0,b.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded animate-pulse mt-1"}),(0,b.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded animate-pulse mt-1"}),(0,b.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"})]})]})]})]}),(0,b.jsx)("div",{className:"text-center mt-12",children:(0,b.jsx)("div",{className:"h-4 w-40 mx-auto bg-gray-200 rounded animate-pulse"})})]})})}var f=a.i(297647),g=a.i(559330);let h=async({advertiserId:a,paymentId:b})=>{try{let c=await g.default.payment.findFirst({where:{id:b,userId:a,status:"completed"},include:{points:!0}});if(!c)return{success:!1,statusCode:404,errMsg:"Payment not found or not completed."};let d=await g.default.user.findUnique({where:{id:a},select:{amount:!0}});if(!d)return{success:!1,statusCode:404,errMsg:"User not found."};let e=c.points[0]?.amount||0,f=Number(c.totalAmount),h=Number(d.amount);return{success:!0,statusCode:200,errMsg:"",data:{purchasedPoints:Number(e),totalPaid:f,userPointAmount:h,payment:{provider:c.provider,currency:c.currency,amount:Number(c.totalAmount),paymentMethod:c.paymentMethod}}}}catch(a){return{success:!1,statusCode:500,errMsg:a instanceof Error?a.message:"Internal server error."}}};var i=a.i(693641);async function j({advertiserId:a,paymentId:c}){let{success:d,errMsg:e,data:g}=await h({advertiserId:a,paymentId:c});if(!d||!g)throw Error(e);let{purchasedPoints:j,totalPaid:k,userPointAmount:l,payment:m}=g,n=(()=>{if("creditcard"===m.paymentMethod)return{icon:(0,b.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),name:"クレジットカード",color:"from-blue-400 to-blue-600",bgColor:"from-blue-50 to-blue-100"};{let a={btc:{icon:"🟠",name:"Bitcoin",color:"from-orange-400 to-yellow-500"},eth:{icon:"⚪",name:"Ethereum",color:"from-blue-400 to-purple-500"},ltc:{icon:"🟡",name:"Litecoin",color:"from-gray-400 to-blue-400"}}[m.currency?.toLowerCase()]||{icon:"💎",name:"仮想通貨",color:"from-purple-400 to-pink-500"};return{icon:(0,b.jsx)("span",{className:"text-4xl",children:a.icon}),name:a.name,color:a.color,bgColor:"from-green-50 to-emerald-100"}}})();return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:[(0,b.jsx)(i.default,{amount:g.userPointAmount}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,b.jsx)("div",{className:"text-center mb-12",children:(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsxs)("div",{className:"w-24 h-24 mx-auto mb-6 relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full"}),(0,b.jsx)("div",{className:"absolute inset-2 bg-white rounded-full flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-4xl text-green-500",children:"✓"})})]}),(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-4",children:"決済完了"}),(0,b.jsx)("p",{className:"text-xl text-gray-600 font-medium",children:"ポイント購入が正常に完了しました"})]})}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-8 py-6",children:(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"購入詳細"]})}),(0,b.jsxs)("div",{className:"p-8 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[(0,b.jsx)("span",{className:"text-gray-700 font-medium",children:"取得ポイント"}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+",j.toLocaleString()]}),(0,b.jsx)("div",{className:"text-sm text-green-500",children:"ポイント"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl",children:[(0,b.jsx)("span",{className:"text-gray-700 font-medium",children:"支払い金額"}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:["¥",k.toLocaleString()]}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"手数料込み"})]})]}),(0,b.jsxs)("div",{className:`flex justify-between items-center p-4 bg-gradient-to-r ${n.bgColor} rounded-xl border border-blue-200`,children:[(0,b.jsx)("span",{className:"text-gray-700 font-medium",children:"決済方法"}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-lg font-bold text-blue-700",children:[n.icon,n.name]}),m.currency&&"creditcard"!==m.paymentMethod&&(0,b.jsx)("div",{className:"text-sm text-blue-600",children:m.currency.toUpperCase()})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-8 py-6",children:(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"現在の残高"]})}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:l.toLocaleString()}),(0,b.jsx)("div",{className:"text-lg text-gray-600 font-medium",children:"ポイント"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 border border-blue-200",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"購入前の残高"}),(0,b.jsxs)("div",{className:"text-lg font-semibold text-gray-800",children:[(l-j).toLocaleString()," ポイント"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600 pt-2 border-t border-blue-200",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),(0,b.jsxs)("span",{className:"font-bold text-sm sm:text-base",children:["+",j.toLocaleString()," ポイント追加"]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[(0,b.jsx)(f.default,{href:`/advertiser/${a}/ad/create`,className:"group relative overflow-hidden",children:(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-8 text-center text-white shadow-xl hover:shadow-2xl transition-all hover:scale-105",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"🚀"}),(0,b.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"広告を作成する"}),(0,b.jsx)("p",{className:"text-green-100",children:"取得したポイントで広告配信を開始"}),(0,b.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 text-green-100 group-hover:text-white transition-colors",children:[(0,b.jsx)("span",{children:"今すぐ開始"}),(0,b.jsx)("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),(0,b.jsx)(f.default,{href:`/advertiser/${a}`,className:"group relative overflow-hidden",children:(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-center text-white shadow-xl hover:shadow-2xl transition-all hover:scale-105",children:[(0,b.jsx)("div",{className:"text-4xl mb-4",children:"📊"}),(0,b.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"ダッシュボード"}),(0,b.jsx)("p",{className:"text-blue-100",children:"アカウント管理と統計を確認"}),(0,b.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 text-blue-100 group-hover:text-white transition-colors",children:[(0,b.jsx)("span",{children:"確認する"}),(0,b.jsx)("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]}),(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 p-8",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"重要な情報"]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 text-sm text-gray-600",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-green-500 mt-1",children:"✓"}),(0,b.jsx)("span",{children:"ポイントは即座にアカウントに反映されています"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-blue-500 mt-1",children:"🔒"}),(0,b.jsx)("span",{children:"すべての取引は暗号化されて安全に処理されています"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-purple-500 mt-1",children:"📧"}),(0,b.jsx)("span",{children:"取引完了の確認メールが送信されています"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"text-orange-500 mt-1",children:"💬"}),(0,b.jsxs)("span",{children:["ご質問は",(0,b.jsx)(f.default,{href:`/advertiser/${a}/support`,className:"text-blue-600 hover:underline",children:"サポート"}),"までお気軽にどうぞ"]})]})]})]})]}),(0,b.jsx)("div",{className:"text-center mt-12",children:(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"ご利用いただき、ありがとうございます"})})]})]})}async function k({params:a,searchParams:f}){let g=await a,h=await f,i=Number(g.advertiserId),k=Number(h.paymentId);return(!i||isNaN(i)||i<0||!k||isNaN(k)||k<=0)&&(0,d.redirect)("/auth/advertiser"),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(e,{}),children:(0,b.jsx)(j,{advertiserId:i,paymentId:k})})}}];

//# sourceMappingURL=src_70ffe527._.js.map