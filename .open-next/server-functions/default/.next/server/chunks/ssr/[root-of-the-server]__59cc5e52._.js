module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},262212,a=>{a.n(a.i(866114))},636685,a=>{a.n(a.i(88402))},581040,a=>{"use strict";a.s(["NOTIFICATION_TYPE_CONFIG",()=>b]);let b={payment:{label:"決済",icon:"CreditCard",color:"text-green-600",bgColor:"bg-green-50"},advertisement:{label:"広告",icon:"Megaphone",color:"text-blue-600",bgColor:"bg-blue-50"},system:{label:"システム",icon:"Settings",color:"text-gray-600",bgColor:"bg-gray-50"},other:{label:"その他",icon:"Bell",color:"text-purple-600",bgColor:"bg-purple-50"}}},31410,a=>{"use strict";a.s(["createNotificationForAllAdvertisers",()=>i,"deleteNotification",()=>h,"updateNotification",()=>g]);var b=a.i(137936),c=a.i(559330),d=a.i(446129),e=a.i(478721),f=a.i(713095);let g=async({notificationId:a,title:b,description:f})=>{try{let{result:g,data:h,message:i}=await (0,d.security)({readOnly:!1});if(!g||!h)return{success:!1,errMsg:i,statusCode:401};if("admin"!==h.userType)return{success:!1,errMsg:"No permission.",statusCode:401};if(b.length>100)return{success:!1,errMsg:"タイトルは100字以内で入力してください",statusCode:400};if(0===b.trim().length)return{success:!1,errMsg:"タイトルを入力してください",statusCode:400};if(f.length>1e3)return{success:!1,errMsg:"内容は1000字以内で入力してください",statusCode:400};if(0===f.trim().length)return{success:!1,errMsg:"内容を入力してください",statusCode:400};if(!await c.default.notification.findUnique({where:{id:a},select:{id:!0,title:!0,description:!0}}))return{success:!1,errMsg:"通知が見つかりません",statusCode:404};let j=(0,e.dangerousCharToEntity)(b.trim()),k=(0,e.dangerousCharToEntity)(f.trim());return await c.default.notification.update({where:{id:a},data:{title:j,description:k,updatedAt:new Date}}),{success:!0,errMsg:"",statusCode:200}}catch(a){return{success:!1,errMsg:a instanceof Error?a.message:"Internal Server Error.",statusCode:500}}},h=async({notificationId:a})=>{try{let{result:b,data:e,message:f}=await (0,d.security)({readOnly:!1});if(!b||!e)return{success:!1,errMsg:f,statusCode:401};if("admin"!==e.userType)return{success:!1,errMsg:"No permission.",statusCode:401};if(!await c.default.notification.findUnique({where:{id:a},select:{id:!0,title:!0}}))return{success:!1,errMsg:"通知が見つかりません",statusCode:404};return await c.default.notification.delete({where:{id:a}}),{success:!0,errMsg:"",statusCode:200}}catch(a){return{success:!1,errMsg:a instanceof Error?a.message:"Internal Server Error.",statusCode:500}}},i=async({title:a,type:b,description:f,sendEmail:g=!1})=>{try{let{result:g,data:h,message:i}=await (0,d.security)({readOnly:!1});if(!g||!h)return{success:!1,errMsg:i,statusCode:401};if("admin"!==h.userType)return{success:!1,errMsg:"No permission.",statusCode:401};if(a.length>100)return{success:!1,errMsg:"タイトルは100字以内で入力してください",statusCode:400};if(0===a.trim().length)return{success:!1,errMsg:"タイトルを入力してください",statusCode:400};if(f.length>1e3)return{success:!1,errMsg:"内容は1000字以内で入力してください",statusCode:400};if(0===f.trim().length)return{success:!1,errMsg:"内容を入力してください",statusCode:400};if(!["payment","advertisement","system","other"].includes(b))return{success:!1,errMsg:"無効な通知タイプです",statusCode:400};let j=await c.default.user.findMany({where:{userType:"advertiser",isActive:!0},select:{id:!0}});if(0===j.length)return{success:!1,errMsg:"対象となるadvertiserユーザーが見つかりません",statusCode:404};let k=(0,e.dangerousCharToEntity)(a.trim()),l=(0,e.dangerousCharToEntity)(f.trim()),m=0;return await c.default.$transaction(async a=>{for(let c of j)await a.notification.create({data:{title:k,description:l,type:b,isRead:!1,userId:c.id}}),m++},{maxWait:1e4,timeout:25e3}).catch(a=>{throw a}),{success:!0,errMsg:"",statusCode:200,createdCount:m}}catch(a){return{success:!1,errMsg:a instanceof Error?a.message:"Internal Server Error.",statusCode:500}}};(0,f.ensureServerEntryExports)([g,h,i]),(0,b.registerServerReference)(g,"7f965f06ac0d36f4f175be15213a99392e9b3d3b31",null),(0,b.registerServerReference)(h,"7f0ac610078f6a194cb93109b6ba5ec3b6d4e7f5bb",null),(0,b.registerServerReference)(i,"7f6b06b6699bb497072001c10a2cd48293ec8ffe18",null)},667523,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/notification/detail/NotificationDetailClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/notification/detail/NotificationDetailClient.tsx <module evaluation>","default")},725371,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/notification/detail/NotificationDetailClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/notification/detail/NotificationDetailClient.tsx","default")},912027,a=>{"use strict";a.i(667523);var b=a.i(725371);a.n(b)},567741,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/notification/detail/NotificationDetailEditor.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/notification/detail/NotificationDetailEditor.tsx <module evaluation>","default")},148816,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/notification/detail/NotificationDetailEditor.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/notification/detail/NotificationDetailEditor.tsx","default")},83874,a=>{"use strict";a.i(567741);var b=a.i(148816);a.n(b)},962535,387709,a=>{"use strict";a.s(["default",()=>g],962535);var b=a.i(907997),c=a.i(209275),d=a.i(581040),e=a.i(912027),f=a.i(83874);let g=async({notificationId:a,advertiserId:g=0,adminId:h=0})=>{let{result:i,message:j,data:k,wasUnread:l}=await (0,c.getNotificationDetail)({notificationId:a,advertiserId:g});if(!i||!k)throw Error(j);let m=d.NOTIFICATION_TYPE_CONFIG[k.type],n=0===g;return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:`${m.bgColor} p-6 sm:p-8 border-b border-gray-100/50`,children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 leading-tight",children:k.title}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: #",k.id]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"タイプ"}),(0,b.jsx)("div",{className:`px-4 py-2 rounded-full ${m.bgColor} border border-white/50 shadow-sm`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:`w-4 h-4 ${m.color}`,children:["payment"===k.type&&(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"advertisement"===k.type&&(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),"system"===k.type&&(0,b.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"other"===k.type&&(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM9 12a3 3 0 100-6 3 3 0 000 6z"})})]}),(0,b.jsx)("span",{className:`text-sm font-bold ${m.color}`,children:m.label})]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"ステータス"}),(0,b.jsx)("div",{className:"px-4 py-2 rounded-full bg-green-100 border border-white/50 shadow-sm",children:(0,b.jsx)("span",{className:"text-sm font-bold text-green-700",children:"既読"})})]}),n&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"対象ユーザー"}),(0,b.jsx)("div",{className:"px-4 py-2 rounded-full bg-blue-100 border border-white/50 shadow-sm",children:(0,b.jsxs)("span",{className:"text-sm font-bold text-blue-700",children:["ID: ",k.userId]})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"text-gray-600",children:"受信日時:"}),(0,b.jsx)("span",{className:"font-medium text-gray-800",children:new Date(k.createdAt).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})}),(0,b.jsx)("div",{className:"p-6 sm:p-8",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-purple-100/50",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"通知内容"}),(0,b.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-purple-200 to-transparent"})]}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-gray-50/80 to-purple-50/40 rounded-2xl p-6 border border-gray-100/50",children:(0,b.jsx)("div",{className:"prose prose-gray max-w-none",children:(0,b.jsx)("p",{className:"text-gray-800 text-base sm:text-lg leading-relaxed whitespace-pre-wrap",children:k.description})})})]})}),n?(0,b.jsx)(f.default,{notification:k,adminId:h}):(0,b.jsx)(e.default,{wasUnread:l||!1}),(0,b.jsx)("div",{className:"absolute top-4 right-4 w-12 h-12 bg-gradient-to-br from-purple-400/20 to-blue-500/20 rounded-full blur-lg"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 bg-gradient-to-br from-blue-400/20 to-indigo-500/20 rounded-full blur-lg"})]})};a.s(["default",()=>h],387709);let h=()=>(0,b.jsxs)("div",{className:"relative animate-pulse",children:[(0,b.jsx)("div",{className:"bg-gray-100 p-6 sm:p-8 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"w-4/5 h-8 sm:h-10 lg:h-12 bg-gray-300 rounded"}),(0,b.jsx)("div",{className:"w-20 h-4 bg-gray-200 rounded"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-4 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-24 h-8 bg-gray-300 rounded-full"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-16 h-4 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-16 h-8 bg-gray-300 rounded-full"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-16 h-4 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-40 h-4 bg-gray-300 rounded"})]})]})}),(0,b.jsx)("div",{className:"p-6 sm:p-8",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-100",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"}),(0,b.jsx)("div",{className:"w-20 h-6 bg-gray-300 rounded"}),(0,b.jsx)("div",{className:"flex-1 h-px bg-gray-200"})]}),(0,b.jsx)("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-100",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"w-full h-5 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-5/6 h-5 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-4/5 h-5 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-3/4 h-5 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"w-2/3 h-5 bg-gray-200 rounded"})]})}),(0,b.jsx)("div",{className:"flex justify-center pt-6",children:(0,b.jsx)("div",{className:"w-40 h-12 bg-gray-300 rounded-2xl"})})]})}),(0,b.jsx)("div",{className:"absolute top-4 right-4 w-12 h-12 bg-gray-200 rounded-full blur-lg opacity-50"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 bg-gray-200 rounded-full blur-lg opacity-50"})]})},943319,a=>a.a(async(b,c)=>{try{a.s([]);var d=a.i(356697);a.i(31410);var e=b([d]);[d]=e.then?(await e)():e,c()}catch(a){c(a)}},!1),705732,a=>a.a(async(b,c)=>{try{a.s(["7f0ac610078f6a194cb93109b6ba5ec3b6d4e7f5bb",()=>f.deleteNotification,"7f2ee3e73a4f61fd029c2911db4802ca19f160e882",()=>e.signUp,"7f58b3e156ef73121dd812cf6580f855e0fba2d7b5",()=>e.mailAuth,"7f708aead18bc6fb7cb809355166f217811e0d4cf3",()=>e.signOut,"7f965f06ac0d36f4f175be15213a99392e9b3d3b31",()=>f.updateNotification,"7fb775272ce06773a1d5c99cf6121ba203f21a336f",()=>e.signIn,"7fd5a47b1466b4921998c4bcc1343f32a8116f9064",()=>e.loginCheck]);var d=a.i(943319),e=a.i(356697),f=a.i(31410),g=b([d,e]);[d,e]=g.then?(await g)():g,c()}catch(a){c(a)}},!1),155314,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(907997),c=a.i(962535),d=a.i(387709);a.i(570396);var e=a.i(673727),f=a.i(800717);let g=async a=>{let g=await a.params,h=Number(g.advertiserId),i=Number(g.notificationId);return(!h||isNaN(h)||h<=0||!i||isNaN(i)||i<=0)&&(0,e.redirect)("/auth/advertiser"),(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50/80 via-blue-50/60 to-indigo-50/40 relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-gradient-to-br from-purple-400/20 to-blue-400/20 rounded-full blur-3xl animate-pulse"}),(0,b.jsx)("div",{className:"absolute -bottom-32 -left-32 w-64 h-64 bg-gradient-to-tr from-indigo-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse"}),(0,b.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-blue-300/10 to-purple-300/10 rounded-full blur-3xl"})]}),(0,b.jsx)("div",{className:"absolute inset-0 bg-grid-purple-100/30 [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)] pointer-events-none"}),(0,b.jsx)("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("div",{className:"text-center mb-8",children:(0,b.jsxs)("div",{className:"inline-flex items-center gap-3 bg-white/60 backdrop-blur-xl rounded-full px-6 py-3 shadow-xl border border-white/50",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM9 12a3 3 0 100-6 3 3 0 000 6z"})})}),(0,b.jsx)("span",{className:"text-lg font-bold bg-gradient-to-r from-purple-700 to-blue-700 bg-clip-text text-transparent",children:"通知詳細"})]})}),(0,b.jsx)("div",{className:"bg-white/70 backdrop-blur-2xl rounded-3xl border border-white/50 shadow-2xl overflow-hidden",children:(0,b.jsx)(f.Suspense,{fallback:(0,b.jsx)(d.default,{}),children:(0,b.jsx)(c.default,{notificationId:Number(i),advertiserId:Number(h),adminId:0})})}),(0,b.jsx)("div",{className:"absolute top-20 left-4 w-4 h-4 bg-gradient-to-br from-purple-400/40 to-blue-500/40 rounded-full blur-sm animate-bounce"}),(0,b.jsx)("div",{className:"absolute top-40 right-8 w-3 h-3 bg-gradient-to-br from-blue-400/40 to-indigo-500/40 rounded-full blur-sm animate-bounce",style:{animationDelay:"1s"}}),(0,b.jsx)("div",{className:"absolute bottom-32 left-12 w-2 h-2 bg-gradient-to-br from-indigo-400/40 to-purple-500/40 rounded-full blur-sm animate-bounce",style:{animationDelay:"2s"}})]})})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__59cc5e52._.js.map