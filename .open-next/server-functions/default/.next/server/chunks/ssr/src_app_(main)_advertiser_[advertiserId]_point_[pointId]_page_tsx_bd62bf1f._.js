module.exports=[563407,a=>{"use strict";a.s(["default",()=>l],563407);var b=a.i(907997),c=a.i(559330);let d=async({pointId:a,advertiserId:b})=>{try{let d=await c.default.point.findFirst({where:0===b?{id:a}:{id:a,userId:b},select:{id:!0,type:!0,amount:!0,description:!0,createdAt:!0,paymentId:!0,payment:{select:{id:!0,orderId:!0,paymentMethod:!0,purchaseAmount:!0,totalAmount:!0,currency:!0,status:!0,createdAt:!0}}}});if(!d)return{success:!1,errMsg:"Point not found.",data:null};return{success:!0,errMsg:"",data:d}}catch(a){return{success:!1,errMsg:a instanceof Error?a.message:"Internal Server Error."}}};var e=a.i(297647);let f=a=>{switch(a){case"purchase":return"ポイント購入";case"consume":return"ポイント消費";case"refund":return"ポイント返金";default:return a}},g=a=>new Intl.NumberFormat("ja-JP").format(a),h=async({pointId:a,advertiserId:c})=>{let{success:h,errMsg:i,data:j}=await d({pointId:a,advertiserId:c});if(!h||!j)throw Error(i);let k=0===c?"/admin/0/points":`/advertiser/${c}/point`,l=`/advertiser/${c}/ad/create`,m=`/advertiser/${c}/point/purchase`;return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-50/80 to-emerald-50/60 p-6 sm:p-8 border-b border-green-100/50",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)(e.default,{href:k,className:"inline-flex items-center gap-2 text-green-600 hover:text-green-800 transition-colors duration-200",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"ポイント一覧に戻る"})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 leading-tight",children:f(j.type)}),(0,b.jsx)("div",{className:`px-4 py-2 rounded-full bg-gradient-to-r ${(a=>{switch(a){case"purchase":return"from-blue-500 to-indigo-600";case"consume":return"from-red-500 to-pink-600";case"refund":return"from-green-500 to-teal-600";default:return"from-gray-500 to-slate-600"}})(j.type)} text-white shadow-sm`,children:(0,b.jsxs)("span",{className:"text-sm font-bold",children:["consume"===j.type?"-":"+",g(Number(j.amount))," pt"]})})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["取引ID: #",j.id]}),(0,b.jsx)("p",{className:"text-lg text-gray-700",children:j.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"text-gray-600",children:"取引日時:"}),(0,b.jsx)("span",{className:"font-medium text-gray-800",children:new Date(j.createdAt).toLocaleString("ja-JP")})]})]})}),0!==c&&(0,b.jsx)("div",{className:"bg-blue-50/50 p-6 sm:p-8 border-b border-blue-100/50",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),"クイックアクション"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsx)(e.default,{href:l,className:"group bg-white/70 hover:bg-white/90 backdrop-blur-sm rounded-xl p-4 border border-white/50 shadow-lg hover:shadow-xl transition-all duration-300",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-gray-900",children:"広告を作成"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"新しい広告キャンペーンを開始"})]})]})}),(0,b.jsx)(e.default,{href:m,className:"group bg-white/70 hover:bg-white/90 backdrop-blur-sm rounded-xl p-4 border border-white/50 shadow-lg hover:shadow-xl transition-all duration-300",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-gray-900",children:"ポイント購入"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"追加ポイントを購入する"})]})]})})]})]})}),(0,b.jsxs)("div",{className:"p-6 sm:p-8 space-y-8",children:[j.payment&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"決済情報"}),(0,b.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-200 to-transparent"})]}),(0,b.jsxs)("div",{className:"bg-blue-50/50 rounded-2xl p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"注文ID:"}),(0,b.jsx)("p",{className:"text-gray-900 font-mono text-sm",children:j.payment.orderId})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"決済ステータス:"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${(a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-700";case"completed":return"bg-green-100 text-green-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}})(j.payment.status)}`,children:(a=>{switch(a){case"pending":return"処理中";case"completed":return"完了";case"failed":return"失敗";case"expired":return"期限切れ";default:return a}})(j.payment.status)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"決済方法:"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:j.payment.paymentMethod})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"通貨:"}),(0,b.jsx)("p",{className:"text-gray-900 font-semibold",children:j.payment.currency})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"購入金額:"}),(0,b.jsxs)("p",{className:"text-gray-900 font-semibold",children:[g(Number(j.payment.purchaseAmount))," ",j.payment.currency]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"総額（手数料込）:"}),(0,b.jsxs)("p",{className:"text-gray-900 font-semibold",children:[g(Number(j.payment.totalAmount))," ",j.payment.currency]})]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-blue-200/50",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"決済日時:"}),(0,b.jsx)("p",{className:"text-gray-900 font-medium",children:new Date(j.payment.createdAt).toLocaleString("ja-JP")})]})]})]}),("consume"===j.type||"refund"===j.type)&&!j.payment&&(0,b.jsx)("div",{className:"bg-yellow-50/50 border border-yellow-200/50 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-yellow-800",children:"お知らせ"}),(0,b.jsxs)("p",{className:"text-sm text-yellow-700",children:["この取引は決済を伴わない",f(j.type),"です。"]})]})]})})]}),(0,b.jsx)("div",{className:"absolute top-4 right-4 w-12 h-12 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-full blur-lg"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 bg-gradient-to-br from-emerald-400/20 to-cyan-500/20 rounded-full blur-lg"})]})},i=()=>(0,b.jsxs)("div",{className:"relative animate-pulse",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-50/80 to-emerald-50/60 p-6 sm:p-8 border-b border-green-100/50",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)("div",{className:"h-4 bg-green-200 rounded w-32"})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"h-8 sm:h-10 lg:h-12 bg-gray-200 rounded w-48 sm:w-64"}),(0,b.jsx)("div",{className:"h-8 bg-gray-200 rounded-full w-24"})]}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"}),(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded w-full max-w-md"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-green-200 rounded"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})]})]})}),(0,b.jsx)("div",{className:"bg-blue-50/50 p-6 sm:p-8 border-b border-blue-100/50",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsx)("div",{className:"bg-white/70 rounded-xl p-4 border border-white/50",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-xl"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-32"})]})]})}),(0,b.jsx)("div",{className:"bg-white/70 rounded-xl p-4 border border-white/50",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-xl"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-28"})]})]})})]})]})}),(0,b.jsxs)("div",{className:"p-6 sm:p-8 space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded w-20"}),(0,b.jsx)("div",{className:"flex-1 h-px bg-gray-200"})]}),(0,b.jsxs)("div",{className:"bg-blue-50/50 rounded-2xl p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"}),(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-blue-200/50 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-40"})]})]})]}),(0,b.jsx)("div",{className:"bg-yellow-50/50 border border-yellow-200/50 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-5 h-5 bg-gray-200 rounded"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-48"})]})]})})]}),(0,b.jsx)("div",{className:"absolute top-4 right-4 w-12 h-12 bg-gray-100 rounded-full blur-lg"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 w-8 h-8 bg-gray-100 rounded-full blur-lg"})]});a.i(570396);var j=a.i(673727),k=a.i(800717);let l=async a=>{let c=await a.params,d=Number(c.advertiserId),e=Number(c.pointId);return(!d||isNaN(d)||d<0||!e||isNaN(e)||e<=0)&&(0,j.redirect)("/auth/advertiser"),(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50/80 via-emerald-50/60 to-cyan-50/40 relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-gradient-to-br from-green-400/20 to-emerald-400/20 rounded-full blur-3xl animate-pulse"}),(0,b.jsx)("div",{className:"absolute -bottom-32 -left-32 w-64 h-64 bg-gradient-to-tr from-teal-400/20 to-green-400/20 rounded-full blur-3xl animate-pulse"}),(0,b.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-emerald-300/10 to-green-300/10 rounded-full blur-3xl"})]}),(0,b.jsx)("div",{className:"absolute inset-0 bg-grid-green-100/30 [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)] pointer-events-none"}),(0,b.jsx)("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,b.jsx)("div",{className:"text-center mb-8",children:(0,b.jsxs)("div",{className:"inline-flex items-center gap-3 bg-white/60 backdrop-blur-xl rounded-full px-6 py-3 shadow-xl border border-white/50",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,b.jsx)("span",{className:"text-lg font-bold bg-gradient-to-r from-green-700 to-emerald-700 bg-clip-text text-transparent",children:"ポイント取引詳細"})]})}),(0,b.jsx)("div",{className:"bg-white/70 backdrop-blur-2xl rounded-3xl border border-white/50 shadow-2xl overflow-hidden",children:(0,b.jsx)(k.Suspense,{fallback:(0,b.jsx)(i,{}),children:(0,b.jsx)(h,{pointId:e,advertiserId:d})})})]})})]})}}];

//# sourceMappingURL=src_app_%28main%29_advertiser_%5BadvertiserId%5D_point_%5BpointId%5D_page_tsx_bd62bf1f._.js.map