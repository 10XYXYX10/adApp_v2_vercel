module.exports=[292e3,941675,641710,546842,543182,912162,a=>{"use strict";a.s(["AlertCircle",()=>c],292e3);var b=a.i(170106);let c=(0,b.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["default",()=>q],543182);var d=a.i(187924),e=a.i(572131),f=a.i(346271);a.s(["Calendar",()=>g],941675);let g=(0,b.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Clock",()=>h],641710);let h=(0,b.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var i=a.i(724669);let j=(0,b.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),k=(0,b.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),l=(0,b.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);a.s(["User",()=>m],546842);let m=(0,b.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),n=(0,b.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),o=(0,b.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var p=a.i(484598);let q=(0,e.memo)(function({advertisement:a}){let b=(0,e.useMemo)(()=>a.budget<=0?0:(a.budget-a.remainingBudget)/a.budget*100,[a.budget,a.remainingBudget]),q=(0,e.useMemo)(()=>a.budget-a.remainingBudget,[a.budget,a.remainingBudget]),r=(0,e.useMemo)(()=>b>=90?{label:"残りわずか",color:"red",bgColor:"bg-red-50"}:b>=70?{label:"使用中",color:"orange",bgColor:"bg-orange-50"}:b>=30?{label:"順調",color:"blue",bgColor:"bg-blue-50"}:{label:"十分",color:"green",bgColor:"bg-green-50"},[b]);return(0,d.jsxs)(f.motion.div,{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/40 shadow-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.005},children:[(0,d.jsxs)("div",{className:"p-6 sm:p-8",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center",children:(0,d.jsx)(i.TrendingUp,{className:"w-5 h-5 text-white"})}),"予算使用状況"]}),(0,d.jsx)("div",{className:`${r.bgColor} px-4 py-2 rounded-full border border-${r.color}-200`,children:(0,d.jsx)("span",{className:`text-${r.color}-700 font-medium text-sm`,children:r.label})})]}),(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["使用率: ",b.toFixed(1),"%"]}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:[q.toLocaleString(),"P / ",a.budget.toLocaleString(),"P"]})]}),(0,d.jsx)("div",{className:"w-full h-4 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:(0,d.jsx)(f.motion.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full relative overflow-hidden",initial:{width:0},animate:{width:`${Math.min(b,100)}%`},transition:{duration:1.5,ease:"easeOut"},children:(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12 animate-pulse"})})}),(0,d.jsxs)("div",{className:"flex justify-between mt-3 text-xs text-gray-600",children:[(0,d.jsxs)("span",{children:["使用済み: ",q.toLocaleString(),"P"]}),(0,d.jsxs)("span",{className:"font-medium",children:["残り: ",a.remainingBudget.toLocaleString(),"P"]})]})]})})]}),(0,d.jsx)("div",{className:"px-6 sm:px-8 pb-6 sm:pb-8",children:(0,d.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 rounded-2xl p-4 sm:p-6 border border-gray-200/50",children:[(0,d.jsxs)("h3",{className:"font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,d.jsx)(l,{className:"w-5 h-5 text-gray-700"}),"詳細情報"]}),(0,d.jsxs)("div",{className:"grid sm:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("h4",{className:"font-semibold text-gray-800 flex items-center gap-2 text-sm sm:text-base",children:[(0,d.jsx)(g,{className:"w-4 h-4"}),"作成情報"]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(h,{className:"w-3 h-3"}),"作成日時:"]}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(0,p.formatDate)(new Date(a.createdAt))})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(h,{className:"w-3 h-3"}),"更新日時:"]}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(0,p.formatDate)(new Date(a.updatedAt))})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(m,{className:"w-3 h-3"}),"作成者:"]}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.user.name})]}),a.verifiedAt&&(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(n,{className:"w-3 h-3"}),"審査完了:"]}),(0,d.jsx)("span",{className:"text-sm font-medium text-green-700",children:(0,p.formatDate)(new Date(a.verifiedAt))})]})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("h4",{className:"font-semibold text-gray-800 flex items-center gap-2 text-sm sm:text-base",children:[(0,d.jsx)(c,{className:"w-4 h-4"}),"設定情報"]}),(0,d.jsxs)("div",{className:"space-y-3",children:[a.targetId&&(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(o,{className:"w-3 h-3"}),"ターゲットID:"]}),(0,d.jsx)("span",{className:"text-sm font-mono font-medium text-blue-700 bg-blue-50 px-2 py-0.5 rounded",children:a.targetId})]}),a.destinationUrl&&(0,d.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(k,{className:"w-3 h-3"}),"遷移先URL:"]}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-2 border",children:(0,d.jsx)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 break-all transition-colors",children:a.destinationUrl})})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,d.jsx)(j,{className:"w-3 h-3"}),"メディアファイル:"]}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.mediaFileId?(0,d.jsxs)("span",{className:"bg-green-50 text-green-700 px-2 py-0.5 rounded",children:["#",a.mediaFileId]}):(0,d.jsx)("span",{className:"text-gray-500",children:"未設定"})})]})]})]})]})]})})]})});a.s(["default",()=>G],912162);let r=(0,b.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var s=a.i(177156);let t=(0,b.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=a.i(405050),v=(0,u.createServerReference)("40e0dd0c8f51903f6c9dbde10fd8a85774f8a32c6d",u.callServer,void 0,u.findSourceMapURL,"getMovieAppMetadata");function w({advertisement:a,refreshTrigger:b}){let[g,h]=(0,e.useState)(null),[i,j]=(0,e.useState)(!0),[l,m]=(0,e.useState)(null),n=async()=>{if(!a.targetId){m("記事IDが設定されていません"),j(!1);return}j(!0),m(null);try{let b=await v(a.targetId);b.success&&b.data?h(b.data):m(b.errMsg||"記事情報の取得に失敗しました")}catch(a){m(a instanceof Error?a.message:"予期しないエラーが発生しました")}finally{j(!1)}};return((0,e.useEffect)(()=>{n()},[a.targetId,b]),i)?(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsxs)(f.motion.div,{className:"flex flex-col items-center gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,d.jsx)(f.motion.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:(0,d.jsx)(t,{className:"w-8 h-8 text-blue-500"})}),(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:"記事情報を取得中..."})]})}):l||!g?(0,d.jsxs)(f.motion.div,{className:"flex flex-col items-center justify-center py-12 px-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)(c,{className:"w-8 h-8 text-red-500"})}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"記事情報を取得できませんでした"}),(0,d.jsx)("p",{className:"text-gray-600 text-center mb-4",children:l||"記事が見つからないか、一時的にアクセスできません"}),a.targetId&&(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:(0,d.jsxs)("p",{className:"text-sm text-gray-700",children:["対象記事ID: ",(0,d.jsx)("span",{className:"font-mono font-medium",children:a.targetId})]})}),(0,d.jsxs)(f.motion.button,{onClick:n,className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl font-medium transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,d.jsx)(s.Eye,{className:"w-4 h-4"}),"再試行"]})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(()=>(0,d.jsx)(f.motion.div,{className:"mb-3 sm:w-1/2 p-1 mx-auto max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{y:-5},children:(0,d.jsxs)("div",{className:"bg-white shadow-md rounded h-full overflow-hidden",children:[(0,d.jsx)("a",{className:"shadow-md hover:shadow-none transition-shadow duration-300",href:g.articleUrl,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(f.motion.h2,{className:"text-center text-base bg-gray-900 text-white box-shadow rounded-tl rounded-tr px-3 py-2",whileHover:{backgroundColor:"#1f2937"},transition:{duration:.2},children:g.title.length>50?g.title.substring(0,50)+"…":g.title})}),(0,d.jsx)("div",{className:"py-2 px-1",children:(0,d.jsx)("div",{style:{paddingTop:10},className:"text-center",children:(0,d.jsx)("a",{className:"block",href:g.articleUrl,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(f.motion.div,{whileHover:{scale:1.02},transition:{duration:.3},children:(0,d.jsx)("img",{src:g.imageUrl,width:300,height:250,alt:g.title,className:"mx-auto box-shadow rounded-sm",onError:a=>{a.target.src="/images/no-image.png"}})})})})})]})}),{})}),(0,d.jsxs)(f.motion.div,{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 sm:p-6 border border-white/40",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,d.jsxs)("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-5 h-5 bg-gradient-to-r from-pink-500 to-rose-600 rounded-lg flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-xs",children:"🎯"})}),"広告詳細情報"]}),(0,d.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"記事タイトル"}),(0,d.jsx)("div",{className:"text-sm font-medium text-gray-900 bg-gray-50 rounded-lg p-2",children:g.title})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"記事ID"}),(0,d.jsx)("div",{className:"text-sm font-mono font-medium text-blue-700 bg-blue-50 rounded-lg p-2",children:a.targetId})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"記事URL"}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-2",children:(0,d.jsxs)("a",{href:g.articleUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 transition-colors flex items-center gap-1 break-all",children:[(0,d.jsx)(k,{className:"w-3 h-3 flex-shrink-0"}),g.articleUrl.length>40?`${g.articleUrl.substring(0,40)}...`:g.articleUrl]})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"優先表示効果"}),(0,d.jsx)("div",{className:"text-sm text-green-700 bg-green-50 rounded-lg p-2",children:"記事一覧の上位に表示され、露出機会が向上します"})]})]})]}),(0,d.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200/50 text-center",children:(0,d.jsxs)(f.motion.a,{href:g.articleUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-pink-500 to-rose-600 text-white px-4 py-2.5 rounded-xl font-medium hover:shadow-lg transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,d.jsx)(k,{className:"w-4 h-4"}),"実際の記事を確認"]})})]})]})}var x=a.i(571987),y=(0,u.createServerReference)("402352c20389aa79c9626848528eb766baafea9309",u.callServer,void 0,u.findSourceMapURL,"getMediaFileData");let z=(0,b.default)("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);function A({advertisement:a,isPreview:b=!1,refreshTrigger:f}){let[g,h]=(0,e.useState)(null),[i,j]=(0,e.useState)(!0),[k,l]=(0,e.useState)(null),[m,n]=(0,e.useState)(10),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(!0);(0,e.useEffect)(()=>{if(q){if(m>0){let a=setTimeout(()=>n(a=>a-1),1e3);return()=>clearTimeout(a)}p(!0)}},[m,q]);let s=async()=>{if(!a.mediaFileId){l("メディアファイルが設定されていません"),j(!1);return}j(!0),l(null);try{let b=await y(a.mediaFileId);b.success&&b.data?h(b.data):l(b.errMsg||"メディアファイルの取得に失敗しました")}catch(a){l(a instanceof Error?a.message:"予期しないエラーが発生しました")}finally{j(!1)}};return((0,e.useEffect)(()=>{s()},[a.mediaFileId,f]),i)?(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4 opacity-100",children:[(0,d.jsx)(t,{className:"w-8 h-8 text-blue-500 animate-spin"}),(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:"メディアファイルを取得中..."})]})}):k||!g?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)(c,{className:"w-8 h-8 text-red-500"})}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"メディアファイルを取得できませんでした"}),(0,d.jsx)("p",{className:"text-gray-600 text-center mb-4",children:k}),a.mediaFileId&&(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:(0,d.jsxs)("p",{className:"text-sm text-gray-700",children:["メディアファイルID: ",(0,d.jsx)("span",{className:"font-mono font-medium",children:a.mediaFileId})]})}),(0,d.jsxs)("button",{onClick:s,className:"inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl",children:[(0,d.jsx)(z,{className:"w-4 h-4"})," 再試行"]})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[b&&(0,d.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl p-4 border border-blue-200/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-sm",children:"📺"})}),(0,d.jsx)("h4",{className:"font-bold text-gray-900",children:"オーバーレイ広告プレビュー"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"動画プレイヤー上に広告が表示され、10秒間確実に視聴されます。"})]}),(0,d.jsxs)("div",{className:"w-full max-w-md mx-auto bg-gray-200 flex flex-col items-center justify-center p-4 rounded-2xl",children:[(0,d.jsx)("div",{className:"relative w-full aspect-video bg-gray-900 rounded-xl overflow-hidden shadow-lg",children:q&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 backdrop-blur-sm",children:(0,d.jsxs)("div",{className:"relative w-[74%] h-[74%] bg-white rounded-lg border-4 border-blue-400 shadow-2xl overflow-hidden",children:[(0,d.jsx)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:(0,d.jsx)(x.default,{src:`https://pub-7414a177cb1243efaa1f1d269e3df215.r2.dev/${g.filePath}`,alt:"オーバーレイ広告",fill:!0,className:"object-cover",onError:a=>{a.target.src="/images/no-image.png"}})}),m>0&&(0,d.jsx)("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-lg",children:m}),o&&(0,d.jsx)("button",{onClick:()=>r(!1),className:"absolute -top-2 -right-2 w-8 h-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-lg",children:"×"})]})})}),(!q||!m)&&(0,d.jsx)("button",{onClick:()=>{n(10),p(!1),r(!0)},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"広告を再表示"})]})]})}let B=(0,b.default)("file-play",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]]);function C({advertisement:a,refreshTrigger:b}){let[f,g]=(0,e.useState)(null),[h,i]=(0,e.useState)(!0),[j,l]=(0,e.useState)(null),[m,n]=(0,e.useState)("waiting"),[o,p]=(0,e.useState)(30),[q,r]=(0,e.useState)(!1),[s,u]=(0,e.useState)(0),[v,w]=(0,e.useState)(null),[x,z]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(v&&(clearTimeout(v),w(null)),"ad"===m&&o>0){let a=setTimeout(()=>{p(o-1),21===o&&r(!0)},1e3);return w(a),()=>{clearTimeout(a),w(null)}}"ad"===m&&0===o&&(n("video"),A())},[m,o]);let A=()=>{x&&(clearInterval(x),z(null));let a=setInterval(()=>{u(b=>b>=100?(clearInterval(a),z(null),100):b+1)},100);z(a)},C=async()=>{if(!a.mediaFileId){l("メディアファイルが設定されていません"),i(!1);return}i(!0),l(null);try{let b=await y(a.mediaFileId);b.success&&b.data?g(b.data):l(b.errMsg||"メディアファイルの取得に失敗しました")}catch(a){l(a instanceof Error?a.message:"予期しないエラーが発生しました")}finally{i(!1)}};return((0,e.useEffect)(()=>{C()},[a.mediaFileId,b]),(0,e.useEffect)(()=>()=>{v&&clearTimeout(v),x&&clearInterval(x)},[]),h)?(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,d.jsx)(t,{className:"w-8 h-8 text-purple-500 animate-spin"}),(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:"メディアファイルを取得中..."})]})}):j||!f?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)(c,{className:"w-8 h-8 text-red-500"})}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"メディアファイルを取得できませんでした"}),(0,d.jsx)("p",{className:"text-gray-600 text-center mb-4",children:j||"ファイルが見つからないか、一時的にアクセスできません"}),a.mediaFileId&&(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:(0,d.jsxs)("p",{className:"text-sm text-gray-700",children:["メディアファイルID: ",(0,d.jsx)("span",{className:"font-mono font-medium",children:a.mediaFileId})]})}),(0,d.jsxs)("button",{onClick:C,className:"inline-flex items-center gap-2 bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-xl font-medium transition-colors",children:[(0,d.jsx)(B,{className:"w-4 h-4"}),"再試行"]})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"w-full max-w-lg mx-auto bg-black rounded-2xl overflow-hidden shadow-2xl",children:[(0,d.jsxs)("div",{className:"relative aspect-video bg-gradient-to-br from-gray-900 to-black",children:["waiting"===m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900 via-blue-900 to-indigo-900",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center text-white",children:[(0,d.jsx)("div",{className:"text-2xl sm:text-3xl mb-2",children:"🎬"}),(0,d.jsx)("div",{className:"text-sm sm:text-base font-medium mb-2",children:"動画コンテンツ: 13:19"}),(0,d.jsxs)("div",{className:"text-xs text-white/60 bg-white/20 px-2 py-1 rounded-full inline-flex items-center gap-1",children:[(0,d.jsx)("span",{children:"🔊"}),(0,d.jsx)("span",{children:"音声付きで再生"})]})]})})]}),(0,d.jsx)("button",{onClick:()=>{n("ad")},className:"absolute inset-0 flex items-center justify-center group",children:(0,d.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center shadow-2xl transform group-hover:scale-110 transition-all duration-300",children:(0,d.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"white",className:"ml-1",children:(0,d.jsx)("path",{d:"M8 5v14l11-7z"})})})})]}),"ad"===m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"absolute inset-0",children:(0,d.jsx)("video",{className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,onError:a=>{console.error("Video playback error:",a)},children:(0,d.jsx)("source",{src:`https://pub-7414a177cb1243efaa1f1d269e3df215.r2.dev/${f.filePath}`,type:f.mimeType})})}),(0,d.jsxs)("div",{className:"absolute top-3 left-3 sm:top-4 sm:left-4 bg-yellow-400 text-black px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[(0,d.jsxs)("span",{children:["広告 ",o,"s"]}),(0,d.jsx)("span",{className:"text-xs",children:"🔊"})]}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-600",children:(0,d.jsx)("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${(30-o)/30*100}%`}})}),!q&&(0,d.jsxs)("div",{className:"absolute bottom-12 right-3 sm:bottom-16 sm:right-4 bg-purple-600 bg-opacity-90 text-white px-3 py-1 rounded-full text-xs font-medium z-10 shadow-lg animate-pulse",children:[(0,d.jsx)("span",{className:"hidden sm:inline",children:"必須視聴中 "}),Math.max(0,10-(30-o)),"s"]}),q&&(0,d.jsx)("button",{onClick:()=>{v&&(clearTimeout(v),w(null)),n("video"),A()},className:"absolute bottom-3 right-3 sm:bottom-4 sm:right-4 bg-gray-800 bg-opacity-80 hover:bg-opacity-100 text-white px-3 py-2 sm:px-4 sm:py-2 rounded text-xs sm:text-sm font-medium transition-all duration-300 transform hover:scale-105 z-20",children:"広告をスキップ →"}),(0,d.jsx)("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-base sm:text-lg font-mono",children:o.toString().padStart(2,"0")}),a.destinationUrl&&(0,d.jsx)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10","aria-label":"広告をクリック"})]}),"video"===m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-800 via-teal-700 to-blue-800",children:(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center text-white",children:[(0,d.jsx)("div",{className:"text-2xl sm:text-3xl mb-4",children:"🎥"}),(0,d.jsx)("div",{className:"text-base sm:text-lg font-bold mb-2",children:"本編動画が再生中..."}),(0,d.jsx)("div",{className:"text-sm opacity-90",children:"素晴らしいコンテンツをお楽しみください"})]})})}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3 sm:p-4",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 text-white",children:[(0,d.jsx)("button",{className:"hover:text-red-400 transition-colors",children:(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"sm:w-5 sm:h-5",children:(0,d.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}),(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("div",{className:"w-full h-1 bg-gray-600 rounded-full",children:(0,d.jsx)("div",{className:"h-full bg-red-500 rounded-full transition-all duration-100",style:{width:`${s}%`}})})}),(0,d.jsxs)("span",{className:"text-xs font-mono",children:[Math.floor(s/10),":0",Math.floor(s%10),"/13:19"]}),(0,d.jsx)("button",{className:"hover:text-red-400 transition-colors",children:(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"sm:w-5 sm:h-5",children:(0,d.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900 p-3 sm:p-4 text-white",children:[(0,d.jsx)("div",{className:"text-sm font-medium mb-2",children:"プレロール広告の流れ"}),(0,d.jsxs)("div",{className:"text-xs text-gray-300 space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${"waiting"===m?"bg-blue-400":"bg-gray-600"}`}),(0,d.jsx)("span",{children:"1. 再生ボタンクリック"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${"ad"===m?"bg-red-400":"bg-gray-600"}`}),(0,d.jsx)("span",{children:"2. 30秒CM表示 (10秒後スキップ可)"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${"video"===m?"bg-green-400":"bg-gray-600"}`}),(0,d.jsx)("span",{children:"3. 本編動画再生"})]})]}),"video"===m&&(0,d.jsx)("button",{onClick:()=>{v&&(clearTimeout(v),w(null)),x&&(clearInterval(x),z(null)),n("waiting"),p(30),r(!1),u(0)},className:"mt-3 w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded text-sm font-medium transition-colors",children:"🔄 デモをリセット"})]})]}),(0,d.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 sm:p-6 border border-white/40",children:[(0,d.jsxs)("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-5 h-5 bg-gradient-to-r from-purple-500 to-violet-600 rounded-lg flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-xs",children:"🎬"})}),"広告詳細情報"]}),(0,d.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"ファイル情報"}),(0,d.jsxs)("div",{className:"text-sm bg-gray-50 rounded-lg p-2 space-y-1",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"ID:"}),(0,d.jsxs)("span",{className:"font-mono font-medium text-purple-700",children:["#",f.id]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"タイプ:"}),(0,d.jsx)("span",{className:"font-medium",children:f.mimeType})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"サイズ:"}),(0,d.jsxs)("span",{className:"font-medium",children:[(f.fileSize/1024/1024).toFixed(2),"MB"]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"MIME Type"}),(0,d.jsx)("div",{className:"text-sm font-mono font-medium text-purple-700 bg-purple-50 rounded-lg p-2",children:f.mimeType})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[a.destinationUrl&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"遷移先URL"}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-2",children:(0,d.jsxs)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 transition-colors flex items-center gap-1 break-all",children:[(0,d.jsx)(k,{className:"w-3 h-3 flex-shrink-0"}),a.destinationUrl.length>40?`${a.destinationUrl.substring(0,40)}...`:a.destinationUrl]})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"表示効果"}),(0,d.jsx)("div",{className:"text-sm text-green-700 bg-green-50 rounded-lg p-2",children:"動画再生前の30秒間確実に表示され、強力なブランド認知効果を期待できます"})]})]})]}),a.destinationUrl&&(0,d.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200/50 text-center",children:(0,d.jsxs)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-500 to-violet-600 text-white px-4 py-2.5 rounded-xl font-medium hover:shadow-lg transition-all duration-300",children:[(0,d.jsx)(k,{className:"w-4 h-4"}),"遷移先を確認"]})})]})]})}let D=(0,b.default)("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function E({advertisement:a,refreshTrigger:b}){let f="youtube-short"===a.adType,g=f?30:60,h=f?17:32,[i,j]=(0,e.useState)("waiting"),[l,m]=(0,e.useState)(g),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(0),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(null),[w,x]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(u&&(clearTimeout(u),v(null)),"ad"===i&&s&&l>0){let a=setTimeout(()=>{m(l-1),l===g-h+1&&o(!0)},1e3);return v(a),()=>{clearTimeout(a),v(null)}}"ad"===i&&0===l&&(j("video"),y())},[i,l,g,h,s]);let y=()=>{w&&(clearInterval(w),x(null));let a=setInterval(()=>{q(b=>b>=100?(clearInterval(a),x(null),100):b+1)},100);x(a)};if((0,e.useEffect)(()=>()=>{u&&clearTimeout(u),w&&clearInterval(w)},[]),!a.targetId)return(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)(c,{className:"w-8 h-8 text-red-500"})}),(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"YouTube動画IDが設定されていません"}),(0,d.jsx)("p",{className:"text-gray-600 text-center mb-4",children:"YouTube動画IDを設定してから再度お試しください"}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,d.jsxs)("p",{className:"text-sm text-gray-700",children:["設定が必要: ",(0,d.jsx)("span",{className:"font-medium",children:"YouTube動画ID (例: dQw4w9WgXcQ)"})]})})]});let z={"youtube-short":{title:"YouTube Short広告",icon:"📹",gradient:"from-red-500 to-pink-600",description:`YouTube動画の再生数向上（${h}秒強制視聴）`,duration:`${g}秒`},"youtube-long":{title:"YouTube Long広告",icon:"🎥",gradient:"from-orange-500 to-red-600",description:`より長時間のYouTube広告（${h}秒強制視聴）`,duration:`${g}秒`}}[a.adType];return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"w-full max-w-lg mx-auto bg-black rounded-2xl overflow-hidden shadow-2xl",children:[(0,d.jsxs)("div",{className:"relative aspect-video bg-gradient-to-br from-gray-900 to-black",children:["waiting"===i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:`absolute inset-0 bg-gradient-to-r ${z.gradient}`,children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center text-white",children:[(0,d.jsx)("div",{className:"text-2xl sm:text-3xl mb-2",children:z.icon}),(0,d.jsx)("div",{className:"text-sm sm:text-base font-medium mb-1",children:z.title}),(0,d.jsxs)("div",{className:"text-xs sm:text-sm text-white/80",children:["YouTube ID: ",a.targetId]})]})})]}),(0,d.jsx)("button",{onClick:()=>{j("ad"),t(!1)},className:"absolute inset-0 flex items-center justify-center group",children:(0,d.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center shadow-2xl transform group-hover:scale-110 transition-all duration-300",children:(0,d.jsx)(r,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white ml-1",fill:"currentColor"})})})]}),"ad"===i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"absolute inset-0",children:(0,d.jsx)("iframe",{className:"w-full h-full",src:`https://www.youtube.com/embed/${a.targetId}?autoplay=1&mute=0&controls=0&modestbranding=1&rel=0&showinfo=0&disablekb=1&enablejsapi=1`,title:"YouTube広告",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,style:{pointerEvents:"none"},onLoad:()=>{t(!0)}})}),(0,d.jsx)("a",{href:`https://www.youtube.com/watch?v=${a.targetId}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-5 cursor-pointer","aria-label":"YouTube動画を開く"}),(0,d.jsxs)("div",{className:"absolute top-3 left-3 sm:top-4 sm:left-4 bg-red-600 text-white px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs font-bold z-10 flex items-center gap-1",children:[(0,d.jsx)(D,{className:"w-3 h-3"}),(0,d.jsxs)("span",{children:["広告 ",l,"s"]}),(0,d.jsx)("span",{className:"text-xs",children:"🔊"})]}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-600 z-10",children:(0,d.jsx)("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${(g-l)/g*100}%`}})}),n&&(0,d.jsx)("button",{onClick:()=>{u&&(clearTimeout(u),v(null)),j("video"),y()},className:"absolute bottom-3 right-3 sm:bottom-4 sm:right-4 bg-gray-800 bg-opacity-90 hover:bg-opacity-100 text-white px-3 py-2 sm:px-4 sm:py-2 rounded text-xs sm:text-sm font-medium transition-all duration-300 transform hover:scale-105 z-20 shadow-lg",children:"広告をスキップ →"}),(0,d.jsx)("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4 bg-black bg-opacity-80 text-white px-2 py-1 rounded text-base sm:text-lg font-mono z-10 shadow-lg",children:l.toString().padStart(2,"0")}),!n&&(0,d.jsx)("div",{className:"absolute bottom-12 right-3 sm:bottom-16 sm:right-4 bg-red-600 bg-opacity-90 text-white px-3 py-1 rounded-full text-xs font-medium z-10 shadow-lg animate-pulse",children:s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"hidden sm:inline",children:"必須視聴中 "}),Math.max(0,h-(g-l)),"s"]}):(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),(0,d.jsx)("span",{children:"読み込み中..."})]})}),a.destinationUrl&&(0,d.jsx)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-1","aria-label":"広告をクリック"})]}),"video"===i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-800 via-teal-700 to-blue-800",children:(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center text-white",children:[(0,d.jsx)("div",{className:"text-2xl sm:text-3xl mb-4",children:"🎥"}),(0,d.jsx)("div",{className:"text-base sm:text-lg font-bold mb-2",children:"本編動画が再生中..."}),(0,d.jsx)("div",{className:"text-sm opacity-90",children:"YouTube広告効果で再生数アップ！"})]})})}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3 sm:p-4",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 text-white",children:[(0,d.jsx)("button",{className:"hover:text-red-400 transition-colors",children:(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"sm:w-5 sm:h-5",children:(0,d.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}),(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)("div",{className:"w-full h-1 bg-gray-600 rounded-full",children:(0,d.jsx)("div",{className:"h-full bg-red-500 rounded-full transition-all duration-100",style:{width:`${p}%`}})})}),(0,d.jsxs)("span",{className:"text-xs font-mono",children:[Math.floor(p/10),":0",Math.floor(p%10),"/13:19"]}),(0,d.jsx)("button",{className:"hover:text-red-400 transition-colors",children:(0,d.jsx)(D,{className:"w-4 h-4"})})]})})]})]}),(0,d.jsxs)("div",{className:"bg-gray-900 p-3 sm:p-4 text-white",children:[(0,d.jsxs)("div",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[(0,d.jsx)(D,{className:"w-4 h-4 text-red-500"}),z.title,"の流れ"]}),(0,d.jsxs)("div",{className:"text-xs text-gray-300 space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${"waiting"===i?"bg-blue-400":"bg-gray-600"}`}),(0,d.jsx)("span",{children:"1. 再生ボタンクリック"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${"ad"===i?"bg-red-400":"bg-gray-600"}`}),(0,d.jsxs)("span",{children:["2. ",z.duration,"YouTube広告表示 (",h,"秒後スキップ可)"]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${"video"===i?"bg-green-400":"bg-gray-600"}`}),(0,d.jsx)("span",{children:"3. 本編動画再生"})]})]}),"video"===i&&(0,d.jsxs)("button",{onClick:()=>{u&&(clearTimeout(u),v(null)),w&&(clearInterval(w),x(null)),j("waiting"),m(g),o(!1),q(0),t(!1)},className:"mt-3 w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,d.jsx)("span",{children:"🔄"}),"デモをリセット"]})]})]}),(0,d.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 sm:p-6 border border-white/40",children:[(0,d.jsxs)("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,d.jsx)("div",{className:`w-5 h-5 bg-gradient-to-r ${z.gradient} rounded-lg flex items-center justify-center`,children:(0,d.jsx)("span",{className:"text-white text-xs",children:z.icon})}),"広告詳細情報"]}),(0,d.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"YouTube動画情報"}),(0,d.jsxs)("div",{className:"text-sm bg-gray-50 rounded-lg p-2 space-y-1",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"動画ID:"}),(0,d.jsx)("span",{className:"font-mono font-medium text-red-700",children:a.targetId})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"タイプ:"}),(0,d.jsx)("span",{className:"font-medium",children:f?"Short":"Long"})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"再生時間:"}),(0,d.jsx)("span",{className:"font-medium",children:z.duration})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"強制視聴:"}),(0,d.jsxs)("span",{className:"font-medium text-red-600",children:[h,"秒"]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"YouTube URL"}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-2",children:(0,d.jsxs)("a",{href:`https://www.youtube.com/watch?v=${a.targetId}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-red-600 hover:text-red-800 transition-colors flex items-center gap-1 break-all",children:[(0,d.jsx)(D,{className:"w-3 h-3 flex-shrink-0"}),"youtube.com/watch?v=",a.targetId]})})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[a.destinationUrl&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"遷移先URL"}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-2",children:(0,d.jsxs)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 transition-colors flex items-center gap-1 break-all",children:[(0,d.jsx)(k,{className:"w-3 h-3 flex-shrink-0"}),a.destinationUrl.length>40?`${a.destinationUrl.substring(0,40)}...`:a.destinationUrl]})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"期待効果"}),(0,d.jsx)("div",{className:"text-sm text-green-700 bg-green-50 rounded-lg p-2",children:"YouTube動画の再生数・チャンネル登録者数の増加効果を期待できます"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"課金方式"}),(0,d.jsxs)("div",{className:"text-sm text-purple-700 bg-purple-50 rounded-lg p-2",children:["1再生あたり",f?"1.5":"3","円の課金"]})]})]})]}),(0,d.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200/50 flex flex-col sm:flex-row gap-3 justify-center",children:[(0,d.jsxs)("a",{href:`https://www.youtube.com/watch?v=${a.targetId}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center gap-2 bg-gradient-to-r ${z.gradient} text-white px-4 py-2.5 rounded-xl font-medium hover:shadow-lg transition-all duration-300`,children:[(0,d.jsx)(D,{className:"w-4 h-4"}),"YouTube動画を確認"]}),a.destinationUrl&&(0,d.jsxs)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 bg-white hover:bg-gray-50 text-gray-700 px-4 py-2.5 rounded-xl font-medium border border-gray-200 transition-all duration-300",children:[(0,d.jsx)(k,{className:"w-4 h-4"}),"遷移先を確認"]})]})]})]})}let F={priority:{title:"動画記事優先表示",icon:"🎯",gradient:"from-pink-500 to-rose-600",description:"movieAppの記事一覧で優先表示"},overlay:{title:"オーバーレイ広告",icon:"📺",gradient:"from-blue-500 to-cyan-600",description:"動画プレイヤー上に表示"},preroll:{title:"プレロール広告",icon:"🎬",gradient:"from-purple-500 to-violet-600",description:"動画再生前に表示される広告"},"youtube-short":{title:"YouTube Short広告",icon:"📹",gradient:"from-red-500 to-pink-600",description:"YouTube動画の再生数向上（15秒）"},"youtube-long":{title:"YouTube Long広告",icon:"🎥",gradient:"from-orange-500 to-red-600",description:"YouTube動画の再生数向上（60秒）"}};function G({advertisement:a,refreshTrigger:b}){let c=F[a.adType];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(f.motion.div,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(f.motion.div,{className:`w-12 h-12 bg-gradient-to-r ${c.gradient} rounded-2xl flex items-center justify-center text-2xl shadow-lg`,whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:c.icon}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:c.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:c.description})]})]})}),(0,d.jsx)(f.motion.div,{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 rounded-2xl p-4 sm:p-6 border border-gray-200/50",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,d.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.targetId&&(0,d.jsxs)("div",{className:"flex items-center gap-3 bg-white/60 backdrop-blur-sm rounded-xl p-3 border border-white/40",children:[(0,d.jsx)(o,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"ターゲットID"}),(0,d.jsx)("div",{className:"text-sm font-mono font-medium text-blue-700 truncate",children:a.targetId})]})]}),a.destinationUrl&&(0,d.jsxs)("div",{className:"flex items-center gap-3 bg-white/60 backdrop-blur-sm rounded-xl p-3 border border-white/40",children:[(0,d.jsx)(k,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"遷移先URL"}),(0,d.jsx)("a",{href:a.destinationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-700 hover:text-green-800 transition-colors truncate block",children:a.destinationUrl.length>30?`${a.destinationUrl.substring(0,30)}...`:a.destinationUrl})]})]}),a.mediaFileId&&(0,d.jsxs)("div",{className:"flex items-center gap-3 bg-white/60 backdrop-blur-sm rounded-xl p-3 border border-white/40",children:[(0,d.jsx)(r,{className:"w-5 h-5 text-purple-600 flex-shrink-0"}),(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"メディアファイル"}),(0,d.jsxs)("div",{className:"text-sm font-medium text-purple-700",children:["#",a.mediaFileId]})]})]})]})}),(0,d.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(()=>{switch(a.adType){case"priority":return(0,d.jsx)(w,{advertisement:a,refreshTrigger:b});case"overlay":return(0,d.jsx)(A,{advertisement:a,refreshTrigger:b});case"preroll":return(0,d.jsx)(C,{advertisement:a,refreshTrigger:b});case"youtube-short":case"youtube-long":return(0,d.jsx)(E,{advertisement:a,refreshTrigger:b});default:return(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-4xl mb-4",children:"🚧"}),(0,d.jsx)("p",{className:"text-gray-500",children:"このタイプの詳細表示は準備中です"})]})}})()})]})})}},27518,a=>{"use strict";a.s(["default",()=>L],27518);var b=a.i(187924),c=a.i(238246),d=a.i(187747),e=a.i(572131),f=a.i(346271),g=a.i(262036),h=a.i(50944),i=a.i(292e3),j=a.i(669520),k=a.i(724669),l=a.i(170106);let m=(0,l.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var n=a.i(177156),o=a.i(765910),p=a.i(790166);let q=(0,l.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),r=(0,l.default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);var s=a.i(340754),t=a.i(543182),u=a.i(912162),v=a.i(613749),w=a.i(50522),x=a.i(839761),y=a.i(73570);let z=(0,l.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var A=a.i(405050),B=(0,A.createServerReference)("70b674f6cc2488a8a64a1651082fb11ff3dad06e85",A.callServer,void 0,A.findSourceMapURL,"getTargetAdStatsData"),C=(0,A.createServerReference)("7025103007b3362b2d4890c860dc5eff4546a1f0f8",A.callServer,void 0,A.findSourceMapURL,"checkDataAvailability"),D=a.i(35366);let E=a=>{let b=a||new Date;return b.getFullYear()+"-"+String(b.getMonth()+1).padStart(2,"0")+"-"+String(b.getDate()).padStart(2,"0")};function F({adId:a,refreshTrigger:c=0}){let[d,h]=(0,e.useState)("monthly"),[i,l]=(0,e.useState)(()=>E()),[m,q]=(0,e.useState)(null),[r,s]=(0,e.useState)({hasPrevious:!1,hasNext:!1,isChecking:!1}),[t,u]=(0,e.useState)(!0),[A,F]=(0,e.useState)(null),G=(0,e.useCallback)(async(b,c)=>{u(!0),F(null);try{let d=await B(a,b,c);if(401===d.statusCode){alert(d.errMsg),window.location.href="/auth/advertiser";return}if(!d.success||!d.data)return void F(d.errMsg||"データの取得に失敗しました");q(d.data)}catch(a){console.error("Fetch error:",a),F(a instanceof Error?a.message:"データの取得中にエラーが発生しました")}finally{u(!1)}},[]),H=(0,e.useCallback)(async(b,c)=>{s(a=>({...a,isChecking:!0}));try{let d=await C(a,b,c);d.success&&d.data?s({hasPrevious:d.data.hasPrevious,hasNext:d.data.hasNext,isChecking:!1}):s({hasPrevious:!1,hasNext:!1,isChecking:!1})}catch(a){console.error("Navigation check failed:",a),s({hasPrevious:!1,hasNext:!1,isChecking:!1})}},[]),I=a=>{try{let b,[c,e,f]=i.split("-").map(Number),g=new Date(c,e-1,f);"7days"===d?(b=new Date(g)).setDate(g.getDate()+("next"===a?7:-7)):(b=new Date(g),"next"===a?b.setMonth(g.getMonth()+1,1):b.setMonth(g.getMonth()-1,1));let h=E(b);l(h)}catch(a){console.error("Navigation error:",a)}};(0,e.useEffect)(()=>{G(d,i),H(d,i)},[d,i,c]);let J=(0,e.useMemo)(()=>{if(!m||!m.summary)return[];let{summary:a}=m;return[{title:"総表示数",value:a.totalImpressions.toLocaleString(),icon:n.Eye,color:"blue",gradient:"from-blue-500 to-cyan-600"},{title:"総クリック数",value:a.totalClicks.toLocaleString(),icon:o.MousePointer,color:"green",gradient:"from-green-500 to-emerald-600"},{title:"CTR",value:`${a.ctr.toFixed(2)}%`,icon:k.TrendingUp,color:"purple",gradient:"from-purple-500 to-violet-600"},{title:"総消費ポイント",value:`${a.totalSpentPoints.toLocaleString()}P`,icon:p.DollarSign,color:"orange",gradient:"from-orange-500 to-red-600"}]},[m]),K=(0,e.useMemo)(()=>m&&m.period?((a,b,c)=>{try{let d=new Date(b),e=new Date(c);if(isNaN(d.getTime())||isNaN(e.getTime()))return console.warn(`Invalid dates: ${b} - ${c}`),`${b} - ${c}`;if("monthly"===a)return`${d.getFullYear()}年${d.getMonth()+1}月`;{let a=a=>`${a.getMonth()+1}/${a.getDate()}`;return`${a(d)} - ${a(e)}`}}catch(a){return console.error("Period display formatting error:",a),`${b} - ${c}`}})(m.period.type,m.period.startDate,m.period.endDate):"-",[m]);return(0,b.jsxs)(f.motion.div,{className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/40 shadow-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.motion.div,{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",whileHover:{rotate:10,scale:1.1},transition:{duration:.2},children:(0,b.jsx)(x.BarChart3,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"パフォーマンス統計"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"詳細な配信データと分析"})]})]}),(0,b.jsx)(f.motion.button,{onClick:()=>{G(d,i),H(d,i)},disabled:t,className:"w-10 h-10 bg-white/70 hover:bg-white/90 disabled:bg-gray-100 rounded-xl border border-white/50 flex items-center justify-center transition-all duration-300 disabled:cursor-not-allowed shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,b.jsx)(j.RefreshCw,{className:`w-5 h-5 text-gray-600 ${t?"animate-spin":""}`})})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,b.jsx)("div",{className:"flex bg-gray-100/50 backdrop-blur-sm rounded-2xl p-1 border border-gray-200/50",children:["monthly"].map(a=>(0,b.jsx)(f.motion.button,{disabled:t,className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-300 disabled:cursor-not-allowed ${d===a?"bg-white text-indigo-600 shadow-lg":"text-gray-600 hover:text-gray-900 disabled:text-gray-400"}`,whileHover:{scale:d===a?1:1.02},whileTap:{scale:.98},children:"7days"===a?"過去7日":"月別"},a))}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.motion.button,{onClick:()=>I("prev"),disabled:!r.hasPrevious||r.isChecking||t,className:"w-10 h-10 bg-white/70 hover:bg-white/90 disabled:bg-gray-100 disabled:text-gray-400 rounded-xl border border-white/50 flex items-center justify-center transition-all duration-300 disabled:cursor-not-allowed shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,b.jsx)(v.ChevronLeft,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-4 py-2 rounded-xl border border-indigo-200/50 min-w-[140px] text-center",children:(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t?(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,b.jsx)(j.RefreshCw,{className:"w-3 h-3 animate-spin"}),(0,b.jsx)("span",{children:"読込中..."})]}):K})}),(0,b.jsx)(f.motion.button,{onClick:()=>I("next"),disabled:!r.hasNext||r.isChecking||t,className:"w-10 h-10 bg-white/70 hover:bg-white/90 disabled:bg-gray-100 disabled:text-gray-400 rounded-xl border border-white/50 flex items-center justify-center transition-all duration-300 disabled:cursor-not-allowed shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,b.jsx)(w.ChevronRight,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)(g.AnimatePresence,{children:[t&&(0,b.jsxs)(f.motion.div,{className:"flex items-center justify-center gap-3 py-8",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,b.jsx)(j.RefreshCw,{className:"w-5 h-5 text-indigo-600 animate-spin"}),(0,b.jsx)("span",{className:"text-gray-600",children:"統計データを読み込み中..."})]}),A&&!t&&(0,b.jsx)(f.motion.div,{className:"bg-red-50/70 backdrop-blur-xl border border-red-200 rounded-2xl p-4 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(y.AlertTriangle,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-red-700 font-medium text-sm",children:"エラーが発生しました"}),(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:A})]}),(0,b.jsx)("button",{onClick:()=>F(null),className:"text-red-400 hover:text-red-600 transition-colors",children:"✕"})]})})]}),!t&&!A&&m&&(0,b.jsx)(f.motion.div,{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:J.map((a,c)=>(0,b.jsxs)(f.motion.div,{className:"relative overflow-hidden bg-white/60 backdrop-blur-sm rounded-2xl border border-white/40 p-4 sm:p-6 shadow-lg",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1*c},whileHover:{scale:1.02,y:-2},children:[(0,b.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${a.gradient} opacity-5`}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)(a.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 text-${a.color}-600`}),(0,b.jsx)("div",{className:`w-2 h-2 bg-${a.color}-500 rounded-full animate-pulse`})]}),(0,b.jsx)("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:a.value}),(0,b.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:a.title})]})]},a.title))}),!t&&!A&&m&&0===m.stats.length&&(0,b.jsxs)(f.motion.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[(0,b.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-gray-100 to-blue-100 rounded-full flex items-center justify-center shadow-lg",children:(0,b.jsx)(z,{className:"w-10 h-10 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"統計データなし"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"この期間には統計データがありません。"}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"広告の配信が開始されると、ここに詳細な統計が表示されます。"})]})]}),!t&&!A&&m&&m.stats.length>0&&(0,b.jsx)(f.motion.div,{className:"bg-white/70 backdrop-blur-xl rounded-3xl border border-white/40 shadow-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(f.motion.div,{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg",whileHover:{rotate:10,scale:1.1},transition:{duration:.2},children:(0,b.jsx)(k.TrendingUp,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"推移グラフ"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"時系列でのパフォーマンス変化"})]})]}),(0,b.jsx)(D.default,{data:m.stats,period:m.period.type,periodInfo:{startDate:m.period.startDate,endDate:m.period.endDate}})]})})]})}var G=(0,A.createServerReference)("40668f4a26cc8980e7b5c37d9e9021085f8efd5f64",A.callServer,void 0,A.findSourceMapURL,"getAdTotals"),H=(0,A.createServerReference)("60f22a9d0ebe1329f0090b9a4e074ef2b2a42b975c",A.callServer,void 0,A.findSourceMapURL,"updateAdStatus"),I=(0,A.createServerReference)("707241b5525271d4bb599ee9237a1bc22f2f8a15ee",A.callServer,void 0,A.findSourceMapURL,"updateAdBudget"),J=(0,A.createServerReference)("7f4de78c96a2d1d1b748d94043f2b0340cf350b4db",A.callServer,void 0,A.findSourceMapURL,"deleteAd"),K=(0,A.createServerReference)("4055901fe9a31d11b102112774ac8af526cd1c06ad",A.callServer,void 0,A.findSourceMapURL,"getAdDetail");function L({advertiserId:a,advertisement:l}){let v=(0,h.useRouter)(),w=(0,d.useUpdateAmount)(),[x,y]=(0,e.useState)(l),[z,A]=(0,e.useState)(""),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)({totalImpressions:0,totalClicks:0}),[L,M]=(0,e.useState)(0),[N,O]=(0,e.useState)(!1),[P,Q]=(0,e.useState)(100);(0,e.useEffect)(()=>{let a=!0;return(async()=>{try{let{data:b}=await G(l.id);a&&b&&(E({totalImpressions:b.totalImpressions,totalClicks:b.totalClicks}),y({...x,remainingBudget:b.remainingBudget_number}))}catch(a){console.error("Failed to fetch ad totals:",a)}})(),()=>{a=!1}},[]);let R=async(a,b)=>{if("add"===a&&b>x.user.amount)return void alert("残高が足りません");C(!0),A("");try{alert("updateAdBudget");let c=await I(x.id,a,b);if(401===c.statusCode)return void v.push("/auth/advertiser");if(!c.success||!c.data)throw Error(c.errMsg);y(c.data),console.log(JSON.stringify(c.data)),w(Number(c.data.user.amount)),alert("Success.")}catch(a){console.log(a instanceof Error&&a.message),alert("予算更新中にエラーが発生しました"),A("予算更新中にエラーが発生しました")}finally{C(!1)}},S=async a=>{if(!B){C(!0),A("");try{let b=await H(x.id,a);if(401===b.statusCode)return void v.push("/auth/advertiser");if(!b.success||!b.data)throw Error(b.errMsg);y(b.data),alert("Success.")}catch(a){console.log(a instanceof Error&&a.message),alert("ステータス更新中にエラーが発生しました"),A("ステータス更新中にエラーが発生しました")}finally{C(!1)}}},T=async()=>{C(!0),A("");try{let b=await J(x.id);if(401===b.statusCode)return void v.push("/auth/advertiser");if(!b.success||!b.updatedAmount)throw Error(b.errMsg?b.errMsg:"Somethin went wrong.");w(Number(b.updatedAmount)),v.push(`/advertiser/${a}/ad`)}catch(a){console.log(a instanceof Error&&a.message),alert("広告削除中にエラーが発生しました"),A("広告削除中にエラーが発生しました")}finally{C(!1)}},U=async()=>{M(a=>a+1),C(!0),A("");try{let a=await K(x.id);if(401===a.statusCode)return void v.push("/auth/advertiser");if(!a.success||!a.data)throw Error(a.errMsg);y(a.data)}catch(a){console.log(a instanceof Error&&a.message),alert("データ更新中にエラーが発生しました"),A("データ更新中にエラーが発生しました")}finally{C(!1)}},V=(0,e.useMemo)(()=>({priority:{title:"動画記事優先表示",icon:"🎯",gradient:"from-pink-500 to-rose-600",description:"記事一覧で優先表示される広告",category:"プロモーション"},overlay:{title:"オーバーレイ広告",icon:"📺",gradient:"from-blue-500 to-cyan-600",description:"動画プレイヤー上に表示される広告",category:"インタラクティブ"},preroll:{title:"プレロール広告",icon:"🎬",gradient:"from-purple-500 to-violet-600",description:"動画再生前に表示される広告",category:"ビデオ"},"youtube-short":{title:"YouTube Short広告",icon:"📹",gradient:"from-red-500 to-pink-600",description:"YouTube動画の再生数向上",category:"ソーシャル"},"youtube-long":{title:"YouTube Long広告",icon:"🎥",gradient:"from-orange-500 to-red-600",description:"より長時間のYouTube広告",category:"ソーシャル"}})[x.adType],[x.adType]),W=(0,e.useMemo)(()=>{let a={draft:{label:"下書き",color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-700"},pending:{label:"審査中",color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-700"},approved:{label:"承認済み",color:"green",bgColor:"bg-green-100",textColor:"text-green-700"},rejected:{label:"却下",color:"red",bgColor:"bg-red-100",textColor:"text-red-700"},active:{label:"配信中",color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-700"},paused:{label:"一時停止",color:"orange",bgColor:"bg-orange-100",textColor:"text-orange-700"}};return a[x.status]||a.draft},[x.status]),X=(0,e.useMemo)(()=>{let a=x.status,b=["active","paused"].includes(a);return{canToggleStatus:b,canDelete:!["deleted"].includes(a),canUpdateBudget:!["rejected","deleted"].includes(a),currentAction:"active"===a?"pause":"activate"}},[x.status]);return(0,b.jsxs)("div",{className:"space-y-8",children:[B&&(0,b.jsx)(s.default,{}),(0,b.jsx)(g.AnimatePresence,{children:z&&(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50/70 backdrop-blur-xl border border-red-200 rounded-2xl p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(i.AlertCircle,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-red-700 font-medium text-sm",children:"エラーが発生しました"}),(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:z})]}),(0,b.jsx)("button",{onClick:()=>y(a=>({...a,error:null})),className:"ml-auto text-red-400 hover:text-red-600 transition-colors",children:"✕"})]})})}),(0,b.jsx)("section",{children:(0,b.jsxs)(f.motion.div,{className:"bg-white/60 backdrop-blur-xl rounded-3xl border border-white/30 shadow-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,b.jsxs)("div",{className:`bg-gradient-to-r ${V.gradient} p-6 relative overflow-hidden`,children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),(0,b.jsx)("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(f.motion.div,{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center text-3xl shadow-lg",whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95},children:V.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:V.title}),(0,b.jsx)("p",{className:"text-white/90 text-sm sm:text-base",children:V.description}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,b.jsxs)("span",{className:"text-white/80 text-sm",children:["ID: #",x.id]}),(0,b.jsx)("div",{className:`${W.bgColor} ${W.textColor} px-2 py-1 rounded-full text-xs font-medium`,children:W.label}),(0,b.jsx)("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-white",children:V.category})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)(f.motion.button,{onClick:U,disabled:B,className:"inline-flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 text-white px-4 py-2.5 rounded-xl font-medium backdrop-blur-sm border border-white/30 transition-all duration-300 disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(j.RefreshCw,{className:`w-4 h-4 ${B?"animate-spin":""}`}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"更新"})]}),(0,b.jsxs)("a",{href:`/advertiser/${a}/ad`,className:"inline-flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 text-white px-4 py-2.5 rounded-xl font-medium backdrop-blur-sm border border-white/30 transition-all duration-300",children:[(0,b.jsx)(k.TrendingUp,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"広告一覧"})]})]})]}),(0,b.jsxs)("div",{className:"mt-4 text-white/70 text-sm",children:["最終更新: ",x.updatedAt.toLocaleString("ja-JP")]})]})]}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)(f.motion.div,{className:"mb-6 bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-4 border border-emerald-200/50",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},whileHover:{scale:1.02},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.motion.div,{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center shadow-lg",whileHover:{rotate:10,scale:1.1},transition:{duration:.2},children:(0,b.jsx)(q,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:"現在の残高"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:"利用可能ポイント"})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)(f.motion.div,{className:"text-2xl sm:text-3xl font-bold text-emerald-600",initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[x.user.amount.toLocaleString(),"P"]},x.user.amount),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[(0,b.jsx)(r,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"ポイント残高"})]})]})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:x.user.amount>=1e4?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-emerald-700 font-medium text-sm",children:"十分な残高"})]}):x.user.amount>=1e3?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-yellow-700 font-medium text-sm",children:"残高注意"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-red-700 font-medium text-sm",children:"残高不足"})]})}),(0,b.jsxs)(c.default,{href:`/advertiser/${a}/point/purchase`,className:"inline-flex items-center gap-1 bg-emerald-100 hover:bg-emerald-200 text-emerald-700 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-300 hover:scale-105",children:[(0,b.jsx)(r,{className:"w-3 h-3"}),"ポイント購入"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-white/40 text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,b.jsx)(p.DollarSign,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("div",{className:"text-gray-600 text-sm",children:"総予算"})]}),(0,b.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[x.budget.toLocaleString(),"P"]})]}),(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-white/40 text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,b.jsx)(p.DollarSign,{className:"w-4 h-4 text-green-600"}),(0,b.jsx)("div",{className:"text-gray-600 text-sm",children:"残り予算"})]}),(0,b.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[x.remainingBudget.toLocaleString(),"P"]})]}),(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-white/40 text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,b.jsx)(n.Eye,{className:"w-4 h-4 text-purple-600"}),(0,b.jsx)("div",{className:"text-gray-600 text-sm",children:"総表示数"})]}),(0,b.jsx)("div",{className:"text-xl font-bold text-gray-900",children:D.totalImpressions?D.totalImpressions.toLocaleString():"..."})]}),(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-4 border border-white/40 text-center",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,b.jsx)(o.MousePointer,{className:"w-4 h-4 text-orange-600"}),(0,b.jsx)("div",{className:"text-gray-600 text-sm",children:"総クリック数"})]}),(0,b.jsx)("div",{className:"text-xl font-bold text-gray-900",children:D.totalClicks?D.totalClicks.toLocaleString():"..."})]})]})]}),(0,b.jsx)("div",{className:"p-6 pt-0",children:(0,b.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50/50 rounded-2xl p-4 border border-gray-200/50",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(m,{className:"w-5 h-5"}),"クイックアクション"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[X.canToggleStatus&&(0,b.jsxs)(f.motion.button,{onClick:()=>S("pause"===X.currentAction?"paused":"active"),disabled:B,className:`
                      inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all duration-300 disabled:opacity-50 
                      ${"pause"===X.currentAction?"bg-orange-500 hover:bg-orange-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}
                    `,whileHover:{scale:1.02},whileTap:{scale:.98},children:["pause"===X.currentAction?"⏸️":"▶️",(0,b.jsx)("span",{className:"text-sm",children:"pause"===X.currentAction?"一時停止":"再開"})]}),X.canUpdateBudget&&(0,b.jsxs)(f.motion.button,{onClick:()=>{if("pending"===x.status)return alert("＜現在審査/確認中＞\nそのアクションは実行できません🙇‍♀️");O(!0)},disabled:B||x.user.amount<100,className:`inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all duration-300 ${x.user.amount<100?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50"}`,whileHover:x.user.amount>=100?{scale:1.02}:{},whileTap:x.user.amount>=100?{scale:.98}:{},children:["💰",(0,b.jsx)("span",{className:"text-sm",children:x.user.amount<100?"残高不足":"予算追加"})]}),X.canDelete&&(0,b.jsxs)(f.motion.button,{onClick:()=>{if("pending"===x.status)return alert("＜現在審査/確認中＞\nそのアクションは実行できません🙇‍♀️");window.confirm("広告を削除しますか？この操作は取り消せません。")&&T()},disabled:B,className:"inline-flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2.5 rounded-xl font-medium transition-all duration-300 disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:["🗑️",(0,b.jsx)("span",{className:"text-sm",children:"削除"})]})]})]})})]})}),(0,b.jsx)("section",{children:(0,b.jsx)(t.default,{advertisement:x})}),(0,b.jsxs)("section",{className:"space-y-8",children:[(0,b.jsxs)(f.motion.div,{className:"bg-white/60 backdrop-blur-xl rounded-3xl border border-white/30 shadow-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)(m,{className:"w-5 h-5"}),"広告コンテンツ"]}),(0,b.jsx)(u.default,{advertisement:x,refreshTrigger:L})]}),(0,b.jsxs)(f.motion.div,{className:"bg-white/60 backdrop-blur-xl rounded-3xl border border-white/30 shadow-xl p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)(k.TrendingUp,{className:"w-5 h-5"}),"パフォーマンス統計"]}),(0,b.jsx)(F,{adId:l.id,refreshTrigger:L})]})]}),(0,b.jsx)(g.AnimatePresence,{children:N&&(0,b.jsx)(f.motion.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>O(!1),children:(0,b.jsxs)(f.motion.div,{className:"bg-white/95 backdrop-blur-xl rounded-3xl border border-white/30 shadow-2xl max-w-md w-full mx-4",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:32},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3},onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-t-3xl",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:(0,b.jsx)(p.DollarSign,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"予算を追加"})})]}),(0,b.jsx)("button",{onClick:()=>O(!1),className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors",children:"✕"})]})}),(0,b.jsxs)("form",{onSubmit:a=>(a.preventDefault(),P<100)?void alert("最小入力値は100ポイントです"):P>x.user.amount?void alert("残高が足りません"):void(O(!1),R("add",P),Q(100)),className:"p-6",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-emerald-50/70 rounded-2xl p-4 border border-emerald-200/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-emerald-700 font-medium text-sm",children:"現在の残高"}),(0,b.jsxs)("span",{className:"text-emerald-600 font-bold text-lg",children:[x.user.amount.toLocaleString(),"P"]})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-gray-700 font-medium text-sm",children:"追加するポイント数"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"number",min:"100",max:x.user.amount,value:P,onChange:a=>Q(Math.max(0,parseInt(a.target.value)||0)),className:"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-2xl text-center text-xl font-bold text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"100"}),(0,b.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"P"})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-600",children:[(0,b.jsx)("span",{className:"text-red-500",children:"最小: 100P"}),(0,b.jsxs)("span",{children:["最大: ",x.user.amount.toLocaleString(),"P"]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"クイック選択"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[100,500,1e3,5e3].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>Q(Math.min(a,x.user.amount)),disabled:a>x.user.amount,className:`px-3 py-2 rounded-xl text-sm font-medium transition-all ${a>x.user.amount?"bg-gray-100 text-gray-400 cursor-not-allowed":P===a?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:[a,"P"]},a))})]}),(0,b.jsx)("div",{className:"bg-blue-50/70 rounded-2xl p-4 border border-blue-200/50",children:(0,b.jsxs)("div",{className:"text-blue-700 text-sm text-center",children:[(0,b.jsxs)("strong",{children:[P.toLocaleString(),"P"]})," を広告予算に追加します",(0,b.jsx)("br",{}),(0,b.jsxs)("span",{className:"text-blue-600",children:["残高: ",(x.user.amount-P).toLocaleString(),"P"]})]})})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,b.jsx)("button",{type:"button",onClick:()=>O(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-2xl font-medium transition-all",children:"キャンセル"}),(0,b.jsx)(f.motion.button,{type:"submit",disabled:P<100||P>x.user.amount,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-2xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:"追加する"})]})]})]})})})]})}},286625,a=>{"use strict";a.s(["default",()=>z],286625);var b=a.i(187924),c=a.i(572131),d=a.i(346271),e=a.i(262036),f=a.i(50944),g=a.i(170106);let h=(0,g.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),i=(0,g.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var j=a.i(641710),k=a.i(546842),l=a.i(941675),m=a.i(73570),n=a.i(405050),o=(0,n.createServerReference)("40673a8647bf44d7cc5d734ebb72c80408d66eb271",n.callServer,void 0,n.findSourceMapURL,"reviewAction"),p=a.i(340754);let q={inappropriate_content:"投稿された内容が当サービスのガイドラインに適さないため、掲載を見送らせていただきました。",misleading_information:"広告内容に誤解を招く表現が含まれているため、修正が必要です。",copyright_violation:"著作権に関する問題が確認されたため、掲載できません。",technical_issues:"技術的な問題により正常に表示されないため、再作成をお願いします。",policy_violation:"当サービスの広告ポリシーに違反する内容が含まれています。",poor_quality:"広告の品質基準を満たしていないため、改善が必要です。",invalid_target:"指定されたターゲットが無効または存在しないため、確認をお願いします。",broken_links:"リンク先にアクセスできないため、URLの確認をお願いします。",other:"審査の結果、掲載を見送らせていただくことになりました。"},r=(0,g.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),s=(0,g.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var t=a.i(669520);function u({advertisement:a,isProcessing:e,onReviewAction:f,adStatus:g}){let[h,j]=(0,c.useState)(null),[k,l]=(0,c.useState)("other"),[m,n]=(0,c.useState)("");return(0,b.jsxs)("div",{className:"bg-white/60 backdrop-blur-xl rounded-3xl border border-white/30 shadow-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(d.motion.div,{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",whileHover:{rotate:10,scale:1.1},children:(0,b.jsx)(i,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"審査アクション"}),(0,b.jsxs)("p",{className:"text-white/90 text-sm",children:["広告ID: #",a.id," の審査を実行"]})]})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"審査結果を選択"}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsx)(d.motion.button,{onClick:()=>j("approve"),disabled:e||"active"===g,className:`p-4 rounded-2xl border-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${"approve"===h?"border-green-300 bg-green-50":"border-gray-200 bg-white hover:border-green-200 hover:bg-green-50/50"}`,whileHover:{scale:"approve"===h?1:1.02},whileTap:{scale:.98},children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"approve"===h?"bg-green-500":"bg-green-100"}`,children:(0,b.jsx)(i,{className:`w-5 h-5 ${"approve"===h?"text-white":"text-green-600"}`})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-bold text-gray-900",children:"承認"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"広告を承認し配信開始"})]})]})}),(0,b.jsx)(d.motion.button,{onClick:()=>j("reject"),disabled:e,className:`p-4 rounded-2xl border-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${"reject"===h?"border-red-300 bg-red-50":"border-gray-200 bg-white hover:border-red-200 hover:bg-red-50/50"}`,whileHover:{scale:"reject"===h?1:1.02},whileTap:{scale:.98},children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"reject"===h?"bg-red-500":"bg-red-100"}`,children:(0,b.jsx)(r,{className:`w-5 h-5 ${"reject"===h?"text-white":"text-red-600"}`})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-bold text-gray-900",children:"却下"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"広告を却下し削除"})]})]})})]})]}),"reject"===h&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"却下理由を選択"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(q).map(([a,c])=>(0,b.jsx)(d.motion.label,{className:`block p-3 rounded-xl border cursor-pointer transition-all duration-200 ${k===a?"border-red-300 bg-red-50":"border-gray-200 bg-white hover:border-red-200"}`,whileHover:{scale:1.01},children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"radio",name:"rejectReason",value:a,checked:k===a,onChange:a=>l(a.target.value),className:"mt-1 text-red-600 focus:ring-red-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 text-sm mb-1",children:a.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:c})]})]})},a))})]}),h&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(s,{className:"w-5 h-5"}),"追加メッセージ（任意）"]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("textarea",{value:m,onChange:a=>n(a.target.value),placeholder:`${"approve"===h?"承認":"却下"}に関する追加コメントがあれば入力してください...`,disabled:e,className:"w-full px-4 py-3 bg-white/70 border border-gray-200 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed",rows:3,maxLength:500}),(0,b.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[m.length,"/500"]})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:(0,b.jsx)(d.motion.button,{onClick:()=>{h&&("reject"!==h||k)&&(f(h,k,m),j(null),l("other"),n(""))},disabled:!h||e,className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 ${"approve"===h?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-lg":"reject"===h?"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white shadow-lg":"bg-gray-200 text-gray-500"}`,whileHover:{scale:h?1.02:1},whileTap:{scale:.98},children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.RefreshCw,{className:"w-4 h-4 animate-spin"}),"処理中..."]}):"approve"===h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i,{className:"w-4 h-4"}),"承認して配信開始"]}):"reject"===h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r,{className:"w-4 h-4"}),"却下して削除"]}):"審査結果を選択してください"})})]})]})}var v=a.i(543182),w=a.i(912162),x=a.i(238246);let y={draft:{label:"下書き",color:"gray",bg:"bg-gray-100",text:"text-gray-700"},pending:{label:"審査待ち",color:"yellow",bg:"bg-yellow-100",text:"text-yellow-700"},approved:{label:"承認済み",color:"green",bg:"bg-green-100",text:"text-green-700"},rejected:{label:"却下",color:"red",bg:"bg-red-100",text:"text-red-700"},active:{label:"配信中",color:"blue",bg:"bg-blue-100",text:"text-blue-700"},paused:{label:"一時停止",color:"orange",bg:"bg-orange-100",text:"text-orange-700"}};function z({adminId:a,advertisement:g}){let n=(0,f.useRouter)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[z,A]=(0,c.useState)(g.status),B=(0,c.useMemo)(()=>y[z]||y.draft,[z]),C=async(b,c,d)=>{r(!0),t(null);try{let e=await o({adminId:a,adId:g.id,action:b,reason:c,comment:d});if(401===e.statusCode||403===e.statusCode){alert(e.errMsg),n.push("/auth/admin");return}if(!e.success)return void t(e.errMsg);if("approve"===b)alert("広告を承認しました"),A("active");else{alert("広告を却下し、削除しました"),n.push(`/admin/${a}/review`);return}}catch(a){t(a instanceof Error?a.message:"処理中にエラーが発生しました")}finally{r(!1)}};return(0,b.jsxs)(b.Fragment,{children:[q&&(0,b.jsx)(p.default,{}),(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[(0,b.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-r from-purple-400/20 to-pink-600/20 rounded-full blur-3xl animate-pulse"}),(0,b.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-r from-blue-400/20 to-cyan-600/20 rounded-full blur-3xl animate-pulse"})]}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("header",{className:"backdrop-blur-xl bg-white/80 border-b border-white/20 shadow-lg",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)(d.motion.div,{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg",whileHover:{scale:1.05,rotate:5},children:(0,b.jsx)(h,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 via-purple-800 to-pink-800 bg-clip-text text-transparent",children:"広告審査"}),(0,b.jsxs)("p",{className:"text-gray-600 text-sm sm:text-base mt-1",children:["ID: #",g.id," の詳細審査"]})]})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-3 border border-white/40",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[(0,b.jsx)(k.User,{className:"w-4 h-4"}),"申請者"]}),(0,b.jsx)("div",{className:"font-medium text-gray-900",children:g.user.name})]}),(0,b.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-3 border border-white/40",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[(0,b.jsx)(l.Calendar,{className:"w-4 h-4"}),"申請日時"]}),(0,b.jsx)("div",{className:"font-medium text-gray-900",children:new Date(g.createdAt).toLocaleDateString("ja-JP")})]}),(0,b.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-3 border border-white/40",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[(0,b.jsx)(j.Clock,{className:"w-4 h-4"}),"ステータス"]}),(0,b.jsx)("div",{className:`${B.bg} ${B.text} px-2 py-1 rounded-full text-xs font-medium inline-block`,children:B.label})]})]})]}),(0,b.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,b.jsx)(x.default,{href:`/admin/${a}/review`,className:"inline-flex items-center justify-center gap-2 bg-white/70 hover:bg-white/90 text-gray-700 px-4 py-2.5 rounded-xl font-medium border border-white/50 hover:border-gray-200 transition-all duration-300 backdrop-blur-sm",children:"← 審査一覧に戻る"})})]})})}),(0,b.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,b.jsx)(e.AnimatePresence,{children:s&&(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50/70 backdrop-blur-xl border border-red-200 rounded-2xl p-4 mb-8",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(m.AlertTriangle,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-red-700 font-medium text-sm",children:"エラーが発生しました"}),(0,b.jsx)("p",{className:"text-red-600 text-sm mt-1",children:s})]}),(0,b.jsx)("button",{onClick:()=>t(null),className:"ml-auto text-red-400 hover:text-red-600 transition-colors",children:"✕"})]})})}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(d.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,b.jsx)(u,{advertisement:g,isProcessing:q,onReviewAction:C,adStatus:z})}),(0,b.jsx)(d.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:(0,b.jsx)(v.default,{advertisement:g})}),(0,b.jsxs)(d.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white/60 backdrop-blur-xl rounded-3xl border border-white/30 shadow-xl p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)(i,{className:"w-5 h-5"}),"広告コンテンツ審査"]}),(0,b.jsx)(w.default,{advertisement:g})]})]})]})]})]})]})}}];

//# sourceMappingURL=_d0edf351._.js.map